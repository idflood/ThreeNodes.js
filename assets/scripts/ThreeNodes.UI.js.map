{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6**","webpack:///webpack/bootstrap 10d94be00346db46748d?b4a1**","webpack:///./threenodes/UI.coffee","webpack:///external \"jQuery\"?0cb8*","webpack:///external \"_\"?b3b9**","webpack:///external \"Backbone\"?709d**","webpack:///./threenodes/views/UIView.coffee","webpack:///./threenodes/views/Workspace.coffee","webpack:///./threenodes/views/AppTimeline.coffee","webpack:///./threenodes/views/GroupDefinitionView.coffee","webpack:///./threenodes/utils/UrlHandler.coffee","webpack:///./threenodes/utils/FileHandler.coffee","webpack:///./threenodes/nodes/views/NodeView.coffee?ca32","webpack:///./threenodes/nodes/views/Color.coffee?ff3a","webpack:///./threenodes/nodes/views/WebGLRenderer.coffee","webpack:///./threenodes/nodes/views/Group.coffee","webpack:///external \"Raphael\"","webpack:///external \"Blob\"?4eae","webpack:///external \"FileSaver\"?c02a","webpack:///./threenodes/utils/Utils.coffee?8c75**","webpack:///./threenodes/nodes/models/Node.coffee?4363*","webpack:///./threenodes/utils/Indexer.coffee?f84a**","webpack:///./threenodes/views/sidebar/Sidebar.coffee","webpack:///./threenodes/views/Breadcrumb.coffee","webpack:///./threenodes/views/MenuBar.coffee","webpack:///./libs/jquery.transform2d.js","webpack:///./libs/jquery-scrollview/jquery.scrollview.js","webpack:///./libs/namespace.js?c027*","webpack:///./libs/jquery.contextMenu.js?77a1","webpack:///./threenodes/connections/views/ConnectionView.coffee","webpack:///./threenodes/utils/CodeExporter.coffee","webpack:///./threenodes/fields/views/FieldsView.coffee?eefa","webpack:///./libs/three-extras/js/RequestAnimationFrame.js","webpack:///./libs/colorpicker/js/colorpicker.js?3e0b","webpack:///./threenodes/nodes/templates/node.tmpl.html?0537","webpack:///./threenodes/nodes/templates/node_context_menu.tmpl.html?3451","webpack:///./templates/app_ui.tmpl.html","webpack:///./templates/definition.tmpl.html","webpack:///./templates/confirm_group_delete.tmpl.html","webpack:///./threenodes/fields/collections/Fields.coffee?8288*","webpack:///./templates/app_menubar.tmpl.html","webpack:///./libs/jquery.menubar.js","webpack:///./threenodes/views/sidebar/NodeSidebarView.coffee","webpack:///./threenodes/views/TreeView.coffee","webpack:///./threenodes/fields/views/FieldButton.coffee?52b5","webpack:///./threenodes/fields/models/Field.coffee?fddf*","webpack:///./threenodes/fields/templates/node_field_input.tmpl.html?635d","webpack:///./threenodes/fields/templates/node_field_output.tmpl.html?5bac","webpack:///./threenodes/fields/templates/field_context_menu.tmpl.html?5127","webpack:///./threenodes/fields/views/sidebar/BoolField.coffee?daa8*","webpack:///./threenodes/fields/views/sidebar/StringField.coffee?7b5c*","webpack:///./threenodes/fields/views/sidebar/FloatField.coffee?b523*","webpack:///./threenodes/fields/views/sidebar/Vector2Field.coffee?6b65*","webpack:///./threenodes/fields/views/sidebar/Vector3Field.coffee?281a*","webpack:///./threenodes/fields/views/sidebar/Vector4Field.coffee?daf1*","webpack:///./threenodes/fields/views/sidebar/QuaternionField.coffee?6d5f*","webpack:///./threenodes/fields/views/sidebar/EulerField.coffee?90b9*","webpack:///./threenodes/fields/views/sidebar/BaseField.coffee?8aab*","webpack:///./templates/field_sidebar_container.tmpl.html?e133*","webpack:///./threenodes/views/sidebar/SidebarTextfield.coffee?6a37*","webpack:///./templates/field_textfield.tmpl.html?31db*","webpack:///./libs/draggable-number.js?72a8*"],"names":[],"mappings":"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kBAAA;;IADoB,QAAQ,CAAC,KAL/B;;AAAA,OA0CM,CAAC,OAAP,GAAiB,OA1CjB;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA2E,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,uCAAsC,EAAE;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF,EAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yBAAwB,QAAQ;;AAEhC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,EAAC;;;;;;;ACtiBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,sCAAqC,kBAAkB;AACvD,qCAAoC,kBAAkB;;AAEtD;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA,EAAC;;;;;;;ACzGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC,WAAW;AACjD;AACA,gEAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,EAAC;;;;;;;AC5BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA,SAAQ;;AAER;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;;AAER;AACA;AACA;AACA;AACA;AACA;AACA,kFAAiF,wDAAwD;AACzI;AACA,SAAQ;;AAER;AACA,gCAA+B;AAC/B;AACA;AACA;AACA;AACA,UAAS;AACT,SAAQ;AACR;AACA,OAAM;AACN,MAAK;;AAEL;AACA;AACA,wCAAuC,cAAc,2BAA2B,EAAE,EAAE;AACpF,MAAK;AACL,wCAAuC,2DAA2D,cAAc,EAAE,EAAE,EAAE;AACtH,MAAK,OAAO;AACZ,uCAAsC,yDAAyD,cAAc,EAAE,EAAE,EAAE;AACnH;AACA;AACA,oEAAmE,cAAc,EAAE;;AAEnF,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,cAAc;AAClC;;AAEA;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,cAAc;AAClC;;AAEA;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;;AAEA,GAAE;AACF,EAAC;;;;;;;;;;;AClND;GAAA;8BAAA;;AAAA,KAAI,oBAAQ,CA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;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,OAAM;AACN,MAAK;AACL;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,mCAAmC;AAChD;AACA;AACA;AACA,oCAAmC,SAAS;AAC5C;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,mBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,aAAY;AACZ,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,gBAAe,SAAS,UAAU;AAClC,sBAAqB,SAAS,UAAU;AACxC,sBAAqB,SAAS,UAAU;AACxC,sBAAqB,SAAS,UAAU;AACxC,sBAAqB,SAAS,UAAU;AACxC,sBAAqB,SAAS,UAAU;AACxC,YAAW,QAAQ,SAAS;AAC5B;AACA,aAAY;AACZ,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,mBAAmB;AACxC;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,gCAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,KAAI;AACJ;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAE;AACF,EAAC,S;;;;;;;ACpeD,0M;;;;;;ACAA,qI;;;;;;ACAA,m0B;;;;;;ACAA,uQ;;;;;;ACAA,kN;;;;;;ACAA;GAAA;;8BAAA;;AAAA,KAAI,oBAAQ,CAAR,CAAJ;;AAAA,SACA,GAAW,oBAAQ,CAAR,CADX;;AAAA,oBAGA,CAAQ,EAAR,CAHA;;AAKA;AAAA,wBALA;;AAAA;AAQE;;;;;;;;;;;;;;;;;;;;;;IAAA;;AAAA,iCAAY,SAAC,MAAD,EAAS,OAAT;AACV;AAAA,KACA,IAAC,KAAD,GAAQ,OAAO,CAAC,IADhB;AAAA,KAEA,IAAC,QAAD,GAAW,OAAO,CAAC,OAFnB;AAAA,KAGA,IAAC,OAAD,GAAU,EAHV;AAAA,KAIA,IAAC,QAAD,GAAW,EAJX;AAAA,KAKA,IAAC,iBAAD,GAAoB;AAAA,OAAC,MAAM,EAAP;AAAA,OAAW,QAAQ,EAAnB;AAAA,OAAuB,OAAO,EAA9B;MALpB;YAOA,IAAC,UAAD,CAAW,IAAC,KAAI,CAAC,SAAN,EAAX,EARU;GAAA,CAAZ;;AAAA,oBAWA,UAAS;AACP,SAAC,kBAAD;AACA,YAAM,IAAC,OAAM,CAAC,MAAR,GAAiB,CAAvB;AACE,WAAC,OAAO,GAAE,CAAC,MAAX,GADF;KAAA,CADA;AAAA,KAGA,WAAQ,KAHR;AAAA,KAIA,WAAQ,OAJR;AAAA,KAKA,WAAQ,QALR;AAAA,KAMA,WAAQ,QANR;YAOA,WAAQ,kBARD;GAAA,CAXT;;AAAA,oBAsBA,OAAM,SAAC,IAAD;AACJ;AAAA,SAAG,SAAS,KAAK,CAAC,IAAD,CAAjB;AACE,cAAO,KAAP,CADF;MAAA;AAGA;AAAA;kBAAA;AACE,WAAG,EAAE,CAAC,GAAN;AAEE,sBAAa,IAAC,OAAO,EAAC,CAAC,IAAF,CAArB,CAFF;QAAA;AAKE,sBAAa,IAAC,OAAO,EAAC,CAAC,IAAF,GAAS,GAAT,GAAe,CAAC,CAAC,GAAjB,CAArB,CALF;QAAA;AAMA,WAAG,UAAH;AAAmB,mBAAU,CAAC,IAAX,CAAgB,CAAC,CAAC,GAAlB,EAAnB;QAPF;AAAA,MAHA;YAWA,KAZI;GAAA,CAtBN;;AAAA,oBAoCA,SAAQ;AACN;AAAA,YACE;AAAA,aAAI,MAAM,CAAC,GAAP,CAAW,IAAC,OAAZ,EAAoB,SAAC,CAAD,EAAI,CAAJ;gBAAU,CAAC,CAAC,MAAF,GAAV;OAAA,CAApB,CAAJ;AAAA,OACA,KAAK,MAAM,CAAC,GAAP,CAAW,IAAC,QAAZ,EAAqB,SAAC,CAAD,EAAI,CAAJ;gBAAU,CAAC,CAAC,MAAF,GAAV;OAAA,CAArB,CADL;MADF;AAGA,YAAO,IAAP,CAJM;GAAA,CApCR;;AAAA,oBA0CA,WAAU,SAAC,GAAD,EAAM,MAAN;AACR;;OADc,SAAS;MACvB;AAAA,cAAY,WAAU,IAAb,GAAuB,SAAvB,GAAsC,QAA/C;AACA,YAAO,IAAE,QAAQ,KAAjB,CAFQ;GAAA,CA1CV;;AAAA,oBA8CA,WAAU,SAAC,GAAD,EAAM,KAAN;AACR,SAAG,IAAC,QAAQ,KAAZ;cACE,IAAC,QAAQ,KAAI,CAAC,QAAd,CAAuB,KAAvB,EADF;MADQ;GAAA,CA9CV;;AAAA,oBAkDA,wBAAuB;AACrB;AAAA,cAAS,CAAT;AACA;AAAA;sBAAA;AACE,aAAM,CAAC,CAAC,UAAU,CAAC,KAAnB;AACA,WAAG,OAAO,CAAC,CAAC,IAAF,CAAO,GAAP,MAAe,OAAzB;AACE,aAAG,GAAG,CAAC,MAAJ,GAAa,MAAhB;AACE,oBAAS,GAAG,CAAC,MAAb,CADF;UADF;QAFF;AAAA,MADA;AAOA,YAAO,SAAS,CAAhB,CARqB;GAAA,CAlDvB;;AAAA,oBA4DA,mBAAkB;AAChB;AAAA,WAAM,EAAN;AACA;AAAA;sBAAA;AACE;AAAA;qBAAA;AACE,YAAI,IAAG,CAAC,MAAJ,CAAJ,GAAkB,CAAC,CAAC,UAAU,CAAC,IAA/B,CADF;AAAA,QADF;AAAA,MADA;YAIA,IALgB;GAAA,CA5DlB;;AAAA,oBAmEA,qBAAoB;AAClB;AAAA,WAAM,EAAN;AACA;AAAA;sBAAA;AACE,WAAI,IAAC,OAAO,OAAZ;AACA;AAAA;qBAAA;AACE,YAAI,IAAG,CAAC,MAAJ,CAAJ,GAAkB,CAAC,CAAC,QAAQ,CAAC,IAA7B,CADF;AAAA,QAFF;AAAA,MADA;YAKA,IANkB;GAAA,CAnEpB;;AAAA,oBA2EA,uBAAsB;AACpB;AAAA;AAAA;sBAAA;AACE,WAAG,CAAC,CAAC,WAAW,CAAC,MAAd,KAAwB,CAA3B;AACE,gBAAO,IAAP,CADF;QADF;AAAA;AAGA,YAAO,KAAP,CAJoB;GAAA,CA3EtB;;AAAA,oBAiFA,wBAAuB;AACrB;AAAA;AAAA;sBAAA;AACE,WAAG,CAAC,CAAC,WAAW,CAAC,MAAd,KAAwB,CAA3B;AACE,gBAAO,IAAP,CADF;QADF;AAAA;AAGA,YAAO,KAAP,CAJqB;GAAA,CAjFvB;;AAAA,oBAuFA,uBAAsB;AACpB,YAAO,0BAA0B,uBAAjC,CADoB;GAAA,CAvFtB;;AAAA,oBA0FA,yBAAwB;AACtB;AAAA;AAAA;UAAA;sBAAA;AACE,WAAI,IAAC,OAAO,OAAZ;AAAA,oBACA,CAAC,CAAC,OAAF,GAAY,MADZ,CADF;AAAA;oBADsB;GAAA,CA1FxB;;AAAA,oBA+FA,oBAAmB;YACjB,IAAC,OAAD,CAAQ,mBAAR,EADiB;GAAA,CA/FnB;;AAAA,oBAkGA,oBAAmB;YACjB,IAAC,OAAD,CAAQ,mBAAR,EADiB;GAAA,CAlGnB;;AAAA,oBAsGA,WAAU,SAAC,IAAD,EAAO,KAAP,EAAc,SAAd;AACR;;OADsB,YAAY;MAClC;AAAA,SAAI,KAAJ;AAAA,KACA,eAAgB,cAAa,QAD7B;AAEA,SAAG,CAAC,CAAC,IAAF,CAAO,KAAP,MAAiB,QAApB;AACE,eAAQ,IAAC,oBAAD,CAAqB,KAArB,CAAR,CADF;MAFA;AAIA,SAAI,4BAAJ;AACE,YAAK,CAAC,cAAN,GAAuB,IAAvB,CADF;MAJA;AAAA,KAOA,QAAY,cAAU,CAAC,IAAI,CAAC,MAAM,CAAC,MAAO,MAAK,CAAC,IAAN,CAA9B,CACV;AAAA,aAAM,IAAN;AAAA,OACA,OAAO,KAAK,CAAC,GADb;AAAA,OAEA,eAAe,KAAK,CAAC,MAFrB;AAAA,OAGA,MAAM,IAAC,KAHP;AAAA,OAIA,WAAW,YAJX;AAAA,OAKA,WAAS,KAAK,CAAC,SAAD,CALd;AAAA,OAMA,UAAU,KAAK,CAAC,QANhB;AAAA,OAOA,SAAS,IAAC,QAPV;AAAA,OAQA,gBAAgB,KAAK,CAAC,cARtB;MADU,CAPZ;AAAA,KAkBA,SAAY,KAAK,CAAC,GAAN,CAAU,WAAV,MAA0B,KAA7B,GAAwC,QAAxC,GAAsD,SAlB/D;AAAA,KAmBA,cAAc,KAAK,CAAC,GAAN,CAAU,MAAV,CAnBd;AAoBA,SAAG,KAAK,CAAC,QAAT;AAEE,sBAAe,MAAM,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,GAApB,CAAwB,KAAxB,CAArB,CAFF;MApBA;AAAA,KAuBA,IAAE,QAAQ,aAAV,GAAyB,KAvBzB;AAAA,KAwBA,IAAC,IAAD,CAAK,KAAL,CAxBA;YAyBA,MA1BQ;GAAA,CAtGV;;AAAA,oBAkIA,YAAW,SAAC,YAAD;AACT;AAAA;AAEE;AACE,iBAAQ,YAAa,KAAK,OAA1B;AAAA,SACA,IAAC,SAAD,CAAU,KAAV,EAAiB,KAAjB,EAAwB,GAAxB,CADA,CADF;AAAA,QAFF;AAAA;YAKA,KANS;GAAA,CAlIX;;AAAA,oBA0IA,gBAAe;AACb,SAAC,QAAD,CAAS,eAAT;YACA,KAFa;GAAA,CA1If;;AAAA,oBA8IA,sBAAqB,SAAC,aAAD;AACnB;AAAA;AAAQ,eAAO,CAAC,CAAC,IAAF,CAAO,aAAP,CAAP;AAAA,cACD,QADC;kBACa,QADb;AAAA,cAED,SAFC;kBAEc,OAFd;AAAA;kBAGD,SAHC;AAAA;SAAR;AAAA,KAIA,MACE;AAAA,aAAM,KAAN;AAAA,OACA,KAAK,aADL;MALF;AAOA,YAAO,GAAP,CARmB;GAAA,CA9IrB;;iBAAA;;IADmB,QAAQ,CAAC,WAP9B;;AAAA,OAgKM,CAAC,OAAP,GAAiB,MAhKjB;;;;;;;;;;;;;ACAA,ivE;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW;AACX;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA,EAAC;;AAED,EAAC;;;;;;;ACheD;GA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AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,gCAA+B;;AAE/B;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,6BAA4B;;AAE5B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jQuery\"), require(\"_\"), require(\"Backbone\"), require(\"Raphael\"), require(\"Blob\"), require(\"FileSaver\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jQuery\", \"_\", \"Backbone\", \"Raphael\", \"Blob\", \"FileSaver\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"UI\"] = factory(require(\"jQuery\"), require(\"_\"), require(\"Backbone\"), require(\"Raphael\"), require(\"Blob\"), require(\"FileSaver\"));\n\telse\n\t\troot[\"ThreeNodes\"] = root[\"ThreeNodes\"] || {}, root[\"ThreeNodes\"][\"UI\"] = factory(root[\"jQuery\"], root[\"_\"], root[\"Backbone\"], root[\"Raphael\"], root[\"Blob\"], root[\"FileSaver\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_30__, __WEBPACK_EXTERNAL_MODULE_31__, __WEBPACK_EXTERNAL_MODULE_32__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"assets/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 10d94be00346db46748d\n **/","require 'jquery'\n_ = require 'Underscore'\nBackbone = require 'Backbone'\nUIView = require './views/UIView'\nWorkspace = require './views/Workspace'\nAppTimeline = require './views/AppTimeline'\nGroupDefinitionView = require './views/GroupDefinitionView'\n#WebglBase = require 'threenodes/utils/WebglBase'\nUrlHandler = require 'threenodes/utils/UrlHandler'\nFileHandler = require 'threenodes/utils/FileHandler'\n\nNodeView = require 'threenodes/nodes/views/NodeView'\nNodeViewColor = require 'threenodes/nodes/views/Color'\nNodeViewWebgl = require 'threenodes/nodes/views/WebGLRenderer'\nNodeViewGroup = require 'threenodes/nodes/views/Group'\n\nclass UI\n  constructor: (@core) ->\n    # Fix backbone with webpack.\n    Backbone.$ = $\n\n    # Define renderer mouseX/Y for use in utils.Mouse node for instance\n    ThreeNodes.renderer =\n      mouseX: 0\n      mouseY: 0\n\n    #@webgl = new WebglBase()\n\n    @url_handler = new UrlHandler()\n    @file_handler = new FileHandler(@core)\n\n    # File and url events\n    @file_handler.on(\"ClearWorkspace\", () => @clearWorkspace())\n    @url_handler.on(\"ClearWorkspace\", () => @clearWorkspace())\n    @url_handler.on(\"LoadJSON\", @file_handler.loadFromJsonData)\n\n    # Initialize the user interface and timeline\n    @initUI()\n    @initTimeline()\n\n    # Initialize the workspace view\n    @createWorkspace()\n    # Make the workspace display the global nodes and connections\n    @workspace.render(@core.nodes)\n\n    # Start the url handling\n    #\n    # Enabling the pushState method would require to redirect path\n    # for the node.js server and github page (if possible)\n    # for simplicity we disable it\n    Backbone.history.start\n      pushState: false\n\n    return true\n\n  createWorkspace: () =>\n    if @workspace then @workspace.destroy()\n    @workspace = new Workspace\n      el: jQuery(\"<div class='nodes-container'></div>\").appendTo(\"#container\")\n      settings: @core.settings\n\n  setWorkspaceFromDefinition: (definition) =>\n    @createWorkspace()\n\n    # always remove current edit node if it exists\n    if @edit_node\n      console.log \"remove edit node\"\n      @edit_node.remove()\n      delete @edit_node\n      # maybe sync new modifications...\n\n    if definition == \"global\"\n      @workspace.render(@core.nodes)\n      @ui.breadcrumb.reset()\n    else\n      # create a hidden temporary group node from this definition\n      @edit_node = @core.nodes.createGroup\n        type: \"Group\"\n        definition: definition\n        x: -9999\n      @workspace.render(@edit_node.nodes)\n      @ui.breadcrumb.set([definition])\n\n  initUI: () =>\n    if @core.settings.test == false\n      # Create the main user interface view\n      @ui = new UIView\n        el: $(\"body\")\n        settings: @core.settings\n\n      # Link UI to render events\n      @ui.on(\"render\", @core.nodes.render)\n      @ui.on(\"renderConnections\", @core.nodes.renderAllConnections)\n\n      # Setup the main menu events\n      @ui.menubar.on(\"RemoveSelectedNodes\", @core.nodes.removeSelectedNodes)\n      @ui.menubar.on(\"ClearWorkspace\", @clearWorkspace)\n      @ui.menubar.on(\"SaveFile\", @file_handler.saveLocalFile)\n      @ui.menubar.on(\"ExportCode\", @file_handler.exportCode)\n      @ui.menubar.on(\"LoadJSON\", @file_handler.loadFromJsonData)\n      @ui.menubar.on(\"LoadFile\", @file_handler.loadLocalFile)\n      #@ui.menubar.on(\"ExportImage\", @webgl.exportImage)\n      @ui.menubar.on(\"GroupSelectedNodes\", @core.group_definitions.groupSelectedNodes)\n\n      # Special events\n      @core.nodes.on(\"nodeslist:rebuild\", @ui.onNodeListRebuild)\n      @url_handler.on(\"SetDisplayModeCommand\", @ui.setDisplayMode)\n\n      #breadcrumb\n      @ui.breadcrumb.on(\"click\", @setWorkspaceFromDefinition)\n    else\n      # If the application is in test mode add a css class to the body\n      $(\"body\").addClass \"test-mode\"\n    return this\n\n  setDisplayMode: (is_player = false) =>\n    if @ui then @ui.setDisplayMode(is_player)\n\n  initTimeline: () =>\n    # Remove old timeline DOM elements\n    $(\"#timeline-container, #keyEditDialog\").remove()\n\n    # Cleanup the old timeline if there was one\n    if @timelineView\n      @core.nodes.off(\"remove\", @timelineView.onNodeRemove)\n      @timelineView.remove()\n      if @ui\n        @timelineView.off(\"TimelineCreated\", @ui.onUiWindowResize)\n\n    # Create a new timeline\n    @timelineView = new AppTimeline\n      el: $(\"#timeline\")\n      ui: @ui\n\n    # Bind events to it\n    @core.nodes.bindTimelineEvents(@timelineView)\n    @core.nodes.on(\"remove\", @timelineView.onNodeRemove)\n    if @ui then @ui.onUiWindowResize()\n\n    return this\n\n  clearWorkspace: () =>\n    @core.nodes.clearWorkspace()\n    @core.group_definitions.removeAll()\n    if @ui then @ui.clearWorkspace()\n    #@initTimeline()\n\nUI.nodes = {}\nUI.UIView = UIView\nUI.nodes.NodeView = NodeView\nUI.nodes.Color = NodeViewColor\nUI.nodes.WebGLRenderer = NodeViewWebgl\nUI.nodes.Group = NodeViewGroup\n\nmodule.exports = UI\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/UI.coffee\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 1\n ** module chunks = 0 2 3\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"_\"\n ** module id = 2\n ** module chunks = 0 1 2 3\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Backbone\"\n ** module id = 3\n ** module chunks = 0 1 2 3\n **/","### UI View ###\n_ = require 'Underscore'\nBackbone = require 'Backbone'\n_view_app_ui = require 'templates/app_ui.tmpl.html'\nSidebar = require './sidebar/Sidebar'\nBreadcrumb = require './Breadcrumb'\nMenuBar = require './MenuBar'\n\nrequire 'RequestAnimationFrame'\nrequire 'Raphael'\nrequire 'jquery.ui'\nrequire 'libs/jquery.transform2d'\nrequire 'libs/jquery-scrollview/jquery.scrollview'\nrequire 'jquery.layout'\n\nclass UIView extends Backbone.View\n\n  # Background svg used to draw the connections\n  @svg = false\n  @connecting_line = false\n\n  initialize: (options) ->\n    super\n\n    @settings = options.settings\n    @is_grabbing = false\n\n    # Bind events\n    $(window).resize(@onUiWindowResize)\n\n    # Create the ui dom elements from template\n    ui_tmpl = _.template(_view_app_ui, {})\n    @$el.append(ui_tmpl)\n\n    # Create breadcrumb view (for selecting current group/workspace)\n    @breadcrumb = new Breadcrumb({el: $(\"#breadcrumb\")})\n\n    # Setup SVG for drawing connections\n    UIView.svg = Raphael(\"graph\", 4000, 4000)\n    UIView.connecting_line = UIView.svg.path(\"M0 -20 L0 -20\").attr\n      stroke: \"#fff\"\n      'stroke-dasharray': \"-\"\n      fill: \"none\"\n      opacity: 0\n\n    # Setup the sidebar and menu subviews\n    @sidebar = new Sidebar({el: $(\"#sidebar\")})\n    @initMenubar()\n\n    # Set the layout and show application\n    @initLayout()\n    @showApplication()\n\n    # Fire the first resize event\n    @onUiWindowResize()\n\n    # Start main render loop\n    @animate()\n\n  onNodeListRebuild: (nodes) =>\n    if @timeoutId\n      clearTimeout(@timeoutId)\n    # add a little delay since the event is fired multiple time on file load\n    onTimeOut = () =>\n      @sidebar.render(nodes)\n    @timeoutId = setTimeout(onTimeOut, 10)\n\n  clearWorkspace: () =>\n    # Remove the nodes attributes from the sidebar\n    @sidebar.clearWorkspace()\n\n  # Setup menubar\n  initMenubar: () =>\n    menu_tmpl = _.template(MenuBar.template, {})\n    $menu_tmpl = $(menu_tmpl).prependTo(\"body\")\n    @menubar = new MenuBar\n      el: $menu_tmpl\n\n    @menubar.on \"ToggleAttributes\", () => if @layout then @layout.toggle(\"west\")\n    @menubar.on \"ToggleLibrary\", () => if @layout then @layout.toggle(\"east\")\n    @menubar.on \"ToggleTimeline\", () => if @layout then @layout.toggle(\"south\")\n\n    return this\n\n  # Setup layout\n  initLayout: () =>\n    @makeSelectable()\n    @setupMouseScroll()\n    @initBottomToolbox()\n    @initDisplayModeSwitch()\n\n    @layout = $('body').layout\n      scrollToBookmarkOnLoad: false\n      animatePaneSizing: false\n      fxName: 'none'\n      center:\n        size: \"100%\"\n      north:\n        closable: false\n        resizable: false\n        slidable: false\n        showOverflowOnHover: true\n        size: 27\n        resizerClass: \"ui-layout-resizer-hidden\"\n        spacing_open: 0\n        spacing_closed: 0\n      east:\n        minSize: 220\n        initClosed: true\n        onresize: (name, pane_el, state, opt, layout_name) =>\n          @onUiWindowResize()\n        onopen: (name, pane_el, state, opt, layout_name) =>\n          @onUiWindowResize()\n        onclose: (name, pane_el, state, opt, layout_name) =>\n          @onUiWindowResize()\n      west:\n        minSize: 220\n      south:\n        minSize: 48\n        size: 48\n        onopen: (name, pane_el, state, opt, layout_name) =>\n          @trigger(\"timelineResize\", pane_el.innerHeight())\n          @onUiWindowResize()\n        onclose: (name, pane_el, state, opt, layout_name) =>\n          @trigger(\"timelineResize\", pane_el.innerHeight())\n          @onUiWindowResize()\n        onresize: (name, pane_el, state, opt, layout_name) =>\n          @trigger(\"timelineResize\", pane_el.innerHeight())\n          @onUiWindowResize()\n\n    # Set timeline height\n    @trigger(\"timelineResize\", 48)\n    return this\n\n  # Handle the nodes selection\n  makeSelectable: () ->\n    $(\"#container\").selectable\n      filter: \".node\"\n      stop: (event, ui) =>\n        $selected = $(\".node.ui-selected\")\n        nodes = []\n        anims = []\n        # Add the nodes and their anims container to some arrays\n        $selected.each () ->\n          ob = $(this).data(\"object\")\n          if !ob.get(\"parent\")\n            ob.anim.objectTrack.name = ob.get(\"name\")\n            anims.push(ob.anim)\n            nodes.push(ob)\n          else\n            # if this is a subnode we only select the group\n            obgrp = ob.get(\"parent\")\n            obgrp.anim.objectTrack.name = ob.get(\"name\")\n            # add the object only once\n            if !_.find(nodes, (n) -> n.cid == obgrp.cid)\n              anims.push(obgrp.anim)\n              nodes.push(obgrp)\n        # Display the selected nodes attributes in the sidebar\n        @sidebar.clearNodesAttributes()\n        @sidebar.renderNodesAttributes(nodes)\n        # Display the selected nodes in the timeline\n        @trigger(\"selectAnims\", anims)\n\n    # Quick fix for input blur.\n    # Without this, after focusing an input in a node it was difficult\n    # to unfocus it. Clicking on the workspace didn't worked.\n    # The problem come from the selectable above which prevent event propagation\n    # somewhere.\n    $(\"#container\").mousedown (e) ->\n      $('input, textarea').trigger('blur')\n    return @\n\n  # Switch between player/editor mode\n  setDisplayMode: (is_player = false) =>\n    if is_player == true\n      $(\"body\").addClass(\"player-mode\")\n      $(\"body\").removeClass(\"editor-mode\")\n      $(\"#display-mode-switch\").html(\"\")\n    else\n      $(\"body\").addClass(\"editor-mode\")\n      $(\"body\").removeClass(\"player-mode\")\n      $(\"#display-mode-switch\").html(\"player mode\")\n\n    $(\"#display-mode-switch\").toggleClass(\"icon-pencil\", is_player)\n    @settings.player_mode = is_player\n    if is_player == false\n      @trigger(\"renderConnections\")\n    return true\n\n  setupMouseScroll: () =>\n    @scroll_target = $(\"#container-wrapper\")\n\n    # Return true if the click is made on the background, false otherwise\n    is_from_target = (e) ->\n      if e.target == $(\"#graph svg\")[0]\n        return true\n      return false\n\n    # Disable the context menu on the container so that we can drag with right click\n    @scroll_target.bind \"contextmenu\", (e) -> return false\n\n    # Handle start drag\n    @scroll_target.mousedown (e) =>\n      # Init drag only if middle or right click AND if the target element is the svg\n      if is_from_target(e) && (e.which == 2 || e.which == 3)\n        @is_grabbing = true\n        @xp = e.pageX\n        @yp = e.pageY\n        return false\n\n    # Hande drag when the mouse move\n    @scroll_target.mousemove (e) =>\n      if is_from_target(e) && (@is_grabbing == true)\n        @scrollTo(@xp - e.pageX, @yp - e.pageY)\n        @xp = e.pageX\n        @yp = e.pageY\n\n    # Handle stop drag\n    @scroll_target.mouseout => @is_grabbing = false\n    @scroll_target.mouseup (e) =>\n      if is_from_target(e) && (e.which == 2 || e.which == 3)\n        @is_grabbing = false\n\n    return true\n\n  scrollTo: (dx, dy) =>\n    x = @scroll_target.scrollLeft() + dx\n    y = @scroll_target.scrollTop() + dy\n    @scroll_target.scrollLeft(x).scrollTop(y)\n\n  switchDisplayMode: () =>\n    @setDisplayMode(!@settings.player_mode)\n    return this\n\n  initDisplayModeSwitch: () =>\n    $(\"body\").append(\"<div id='display-mode-switch'>switch mode</div>\")\n    $(\"#display-mode-switch\").click (e) =>\n      @switchDisplayMode()\n\n  # Setup the bottom right dom container\n  initBottomToolbox: () =>\n    $(\"body\").append(\"<div id='bottom-toolbox'></div>\")\n    $container = $(\"#bottom-toolbox\")\n    @initResizeSlider($container)\n\n  # Initialize the little node zoom slider\n  initResizeSlider: ($container) =>\n    $container.append(\"<div id='zoom-slider'></div>\")\n    scale_graph = (val) ->\n      factor = val / 100\n      $(\"#container\").css('transform', \"scale(#{factor}, #{factor})\")\n\n    $(\"#zoom-slider\").slider\n      min: 25\n      step: 25\n      value: 100\n      change: (event, ui) -> scale_graph(ui.value)\n      slide: (event, ui) -> scale_graph(ui.value)\n\n  # Display the app and hide the intro\n  showApplication: () =>\n    delay_intro = 500\n\n    # Display/hide with some delay\n    $(\"body > header\").delay(delay_intro).hide()\n    $(\"#sidebar\").delay(delay_intro).show()\n    $(\"#container-wrapper\").delay(delay_intro).show()\n\n    # Render the connections if needed\n    @trigger(\"renderConnections\")\n\n  # Function called when the window is resized and if some panels are closed/opened/resized\n  onUiWindowResize: () =>\n    # Default minimum margins\n    margin_bottom = 20\n    margin_right = 25\n\n    # Calculate the bottom and right margins if the corresponding panels are not closed\n    if @layout.south.state.isClosed == false then margin_bottom += $(\"#timeline\").innerHeight()\n    if @layout.east.state.isClosed == false then margin_right += $(\"#library\").innerWidth()\n\n    # Apply the margins to some DOM elements\n    $(\"#bottom-toolbox\").attr(\"style\", \"bottom: #{margin_bottom}px !important; right: #{margin_right}px\")\n    $(\"#webgl-window\").css\n      right: margin_right\n\n  animate: () =>\n    @trigger(\"render\")\n    requestAnimationFrame( @animate )\n\nmodule.exports = UIView\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/views/UIView.coffee\n **/","#\"use strict\"\n_ = require 'Underscore'\nBackbone = require 'Backbone'\nConnectionView = require 'threenodes/connections/views/ConnectionView'\n\nrequire 'jquery.ui'\n\n\n### Workspace View ###\n\n# A workspace consists of nodes and connections.\n# There is a global workspace and possibly many workspaces\n# from group nodes. There is always only one workspace displayed.\n\nclass Workspace extends Backbone.View\n  initialize: (options) =>\n    super\n    @settings = options.settings\n    @initDrop()\n\n  render: (nodes) =>\n    # Keep a reference of the current nodes\n    @nodes = nodes\n\n    console.log \"Workspace.render \" + nodes.length\n    @views = []\n\n    # Create the views for already created nodes and connections\n    _.each(@nodes.models, @renderNode)\n    _.each(@nodes.connections.models, @renderConnection)\n\n    # Create views when a new node is created\n    @nodes.bind(\"add\", @renderNode)\n\n    # Create a connection view when a connection is created\n    @nodes.connections.bind(\"add\", @renderConnection)\n\n  destroy: () =>\n    # Remove all existing views before displaying new ones\n    _.each(@views, (view) -> view.remove())\n    @nodes.unbind(\"add\", @renderNode)\n    @nodes.connections.unbind(\"add\", @renderConnection)\n    delete @views\n    delete @settings\n    @remove()\n\n  renderNode: (node) =>\n    nodename = node.constructor.name\n\n    if ThreeNodes.Core.nodes.views[nodename]\n      # If there is a view associated with the node model use it\n      viewclass = ThreeNodes.Core.nodes.views[nodename]\n    else\n      # Use the default view class\n      viewclass = ThreeNodes.Core.nodes.views.NodeView\n\n    # Add directly the node element to the dom so that the view can\n    # access the .parent() directly. (@see FieldsView.onFieldCreated)\n    $nodeEl = $(\"<div class='node'></div>\").appendTo(@$el)\n    view = new viewclass\n      model: node\n      el: $nodeEl\n\n    # Save the nid and model in the data attribute\n    view.$el.data(\"nid\", node.get(\"nid\"))\n    view.$el.data(\"object\", node)\n    @views.push(view)\n\n  renderConnection: (connection) =>\n    if @settings.test == true\n      return false\n    view = new ConnectionView\n      model: connection\n    @views.push(view)\n\n  initDrop: () =>\n    self = this\n    # Setup the drop area for the draggables created above\n    $(\"#container\").droppable\n      accept: \"#tab-new a.button, #library .definition\"\n      activeClass: \"ui-state-active\"\n      hoverClass: \"ui-state-hover\"\n      drop: (event, ui) ->\n        offset = $(\"#container-wrapper\").offset()\n        definition = false\n\n        if ui.draggable.hasClass(\"definition\")\n          nodename = \"Group\"\n          container =  $(\"#library\")\n          definition = ui.draggable.data(\"model\")\n          offset.left -= container.offset().left\n        else\n          nodename = ui.draggable.attr(\"rel\")\n          container =  $(\"#sidebar .ui-layout-center\")\n\n        dx = ui.position.left + $(\"#container-wrapper\").scrollLeft() - offset.left - 10\n        dy = ui.position.top + $(\"#container-wrapper\").scrollTop() - container.scrollTop() - offset.top\n        if self.nodes\n          self.nodes.createNode({type: nodename, x: dx, y: dy, definition: definition})\n        $(\"#sidebar\").show()\n\n    return this\n\nmodule.exports = Workspace\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/views/Workspace.coffee\n **/","#\"use strict\"\n_ = require 'Underscore'\nBackbone = require 'Backbone'\n\n#require 'timeline'\n#require 'timeline-gui'\n\n### Timeline View ###\nclass AppTimeline extends Backbone.View\n  initialize: (options) =>\n    super\n    # reset canvas height\n    localStorage[\"timeline.js.settings.canvasHeight\"] = @$el.innerHeight()\n\n    @$el.html(\"\")\n    self = this\n\n    @timeline = new Timeline\n      element: @el\n      displayOnlySelected: true\n      colorBackground: \"#313638\"\n      colorButtonBackground: \"#313638\"\n      colorButtonStroke: \"#aeb7bb\"\n      colorScrollbar: \"#313638\"\n      colorScrollbarThumb: \"#656c6f\"\n      colorTimelineLabel: \"#999\"\n      colorTimelineTick: \"#656c6f\"\n      colorTimeScale: \"#666\"\n      colorHeaderBorder: \"#313638\"\n      colorTimeTicker: \"#f00\"\n      colorTrackBottomLine: \"#555\"\n      colorPropertyLabel: \"#999\"\n      onGuiSave: () =>\n        self.trigger \"OnUIResize\"\n      setPropertyValue: (propertyAnim, t) ->\n        propertyAnim.target[propertyAnim.propertyName].setValue(t)\n      applyPropertyValue: (propertyAnim, t) ->\n        propertyAnim.target[propertyAnim.propertyName].setValue(propertyAnim.startValue + (propertyAnim.endValue - propertyAnim.startValue) * t)\n      getPropertyValue: (propertyAnim) ->\n        val = propertyAnim.target[propertyAnim.propertyName].attributes[\"value\"]\n        if $.type(val) != \"array\"\n          return val\n        else\n          return val[0]\n      onTrackRebuild: () => @trigger(\"trackRebuild\")\n      onStop: () => @trigger(\"stopSound\")\n      onPlay: (time) => @trigger(\"startSound\", time)\n\n    Timeline.globalInstance = @timeline\n\n    @timeline.loop(-1)\n    @time = 0\n\n    if options.ui\n      @ui = options.ui\n      @ui.on(\"render\", @update)\n      @ui.on(\"selectAnims\", @selectAnims)\n      @ui.on(\"timelineResize\", @resize)\n\n    @trigger(\"OnUIResize\")\n\n  selectAnims: (nodes) =>\n    if @timeline\n      @timeline.selectAnims(nodes)\n\n  onNodeRemove: (node) =>\n    @selectAnims([])\n\n  remove: () =>\n    @undelegateEvents()\n\n    if @ui\n      @ui.off(\"render\", @update)\n      @ui.off(\"selectAnims\", @selectAnims)\n      @ui.off(\"timelineResize\", @resize)\n      delete @ui\n\n    @timeline.destroy()\n    delete @timeline\n    @time = null\n    # we don't want to remove the el since it is used by jquery-template\n    # that's why we will not call super there\n    #super\n\n  resize: (height) =>\n    if @timeline\n      @timeline.canvasHeight = height\n      @timeline.tracksScrollY = 0\n      @timeline.tracksScrollThumbPos = 0\n      @timeline.save()\n\n  update: () =>\n    n = Date.now()\n    if @timeline\n      dt = n - @time\n      @timeline.update(dt / 1000)\n    @time = n\n\nmodule.exports = AppTimeline\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/views/AppTimeline.coffee\n **/","#\"use strict\"\n_ = require 'Underscore'\nBackbone = require 'Backbone'\n_view_template = require 'templates/definition.tmpl.html'\n_view_group_delete = require 'templates/confirm_group_delete.tmpl.html'\n\nrequire 'jquery.ui'\n\n### Node View ###\nclass GroupDefinitionView extends Backbone.View\n  @template = _view_template\n\n  initialize: () ->\n    @$el.draggable\n      revert: \"valid\"\n      opacity: 0.7\n      helper: \"clone\"\n      revertDuration: 0\n      scroll: false\n      containment: \"document\"\n    @$el.data(\"model\", @model)\n    @model.bind('remove', () => @remove())\n\n    # Trigger edit/remove events when these buttons are clicked\n    $(\".edit\", @$el).click (e) =>\n      e.preventDefault()\n      @trigger(\"edit\", @model)\n\n    $(\".remove\", @$el).click (e) =>\n      e.preventDefault()\n      @createConfirmModal()\n\n\n  createConfirmModal: () =>\n    # Remove any previously created modal\n    if @$confirm then @$confirm.dialog(\"destroy\")\n    $(\"#confirm-groupdefinition-delete\").remove()\n\n    # Create the group definition remove confirmation dialog\n    self = this\n    grp_confirm_tmpl = _.template(_view_group_delete, {})\n    @$confirm = $(grp_confirm_tmpl).appendTo(\"body\")\n    @$confirm.dialog\n      resizable: false\n      height: 120\n      modal: true\n      buttons:\n        \"Delete\": () ->\n          self.model.destroy()\n          self.$confirm.dialog(\"close\")\n        \"Cancel\": () =>\n          self.$confirm.dialog(\"close\")\n\nmodule.exports = GroupDefinitionView\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/views/GroupDefinitionView.coffee\n **/","#\"use strict\"\nBackbone = require 'Backbone'\n\nclass UrlHandler extends Backbone.Router\n  routes:\n    \"\": \"onDefault\"\n    \"play\": \"onPlay\"\n    \"example/:file\": \"onExample\"\n    \"play/example/:file\": \"onPlayExample\"\n\n  onDefault: () =>\n    @trigger(\"SetDisplayModeCommand\", false)\n\n  onPlay: () =>\n    @trigger(\"SetDisplayModeCommand\", true)\n\n  onExample: (file, player_mode = false) =>\n    self = this\n    @trigger(\"SetDisplayModeCommand\", player_mode)\n    @trigger(\"ClearWorkspace\")\n    $.ajax\n      url: \"examples/#{file}\"\n      dataType: 'text'\n      success: (data) ->\n        self.trigger(\"LoadJSON\", data)\n\n  onPlayExample: (file) =>\n    @onExample(file, true)\n\nmodule.exports = UrlHandler\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/utils/UrlHandler.coffee\n **/","_ = require 'Underscore'\nBackbone = require 'Backbone'\nUtils = require 'threenodes/utils/Utils'\nCodeExporter = require 'threenodes/utils/CodeExporter'\n\nrequire 'Blob'\nrequire 'FileSaver'\n#require 'libs/json2'\n\nclass FileHandler extends Backbone.Events\n  constructor: (@core) ->\n    _.extend(FileHandler::, Backbone.Events)\n\n  saveLocalFile: () =>\n    result_string = @getLocalJson()\n    blob = new Blob([result_string], {\"text/plain;charset=utf-8\"})\n    fileSaver = saveAs(blob, \"nodes.json\")\n\n  exportCode: () =>\n    # get the json export and convert it to code\n    json = @getLocalJson(false)\n    exporter = new CodeExporter()\n    res = exporter.toCode(json)\n\n    blob = new Blob([res], {\"text/plain;charset=utf-8\"})\n    fileSaver = saveAs(blob, \"nodes.js\")\n\n  getLocalJson: (stringify = true) =>\n    res =\n      uid: @core.nodes.indexer.getUID(false)\n      nodes: jQuery.map(@core.nodes.models, (n, i) -> n.toJSON())\n      connections: jQuery.map(@core.nodes.connections.models, (c, i) -> c.toJSON())\n      groups: jQuery.map(@core.group_definitions.models, (g, i) -> g.toJSON())\n\n    if stringify\n      return JSON.stringify(res, null, 2)\n    else\n      return res\n\n  loadFromJsonData: (txt) =>\n    # Parse the json string\n    loaded_data = JSON.parse(txt)\n    @core.setNodes(loaded_data)\n\n  loadLocalFile: (e) =>\n    # Clear the workspace first\n    @trigger(\"ClearWorkspace\")\n\n    # Load the file\n    file = e.target.files[0]\n    reader = new FileReader()\n    self = this\n    reader.onload = (e) ->\n      txt = e.target.result\n      # Call loadFromJsonData when the file is loaded\n      self.loadFromJsonData(txt)\n    reader.readAsText(file, \"UTF-8\")\n\nmodule.exports = FileHandler\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/utils/FileHandler.coffee\n **/","_ = require 'Underscore'\nBackbone = require 'Backbone'\n_view_node_template = require '../templates/node.tmpl.html'\n_view_node_context_menu = require '../templates/node_context_menu.tmpl.html'\nFieldsView = require 'threenodes/fields/views/FieldsView'\nnamespace = require('libs/namespace').namespace\n\nrequire 'libs/jquery.contextMenu'\nrequire 'jquery.ui'\n\n### Node View ###\nclass NodeView extends Backbone.View\n  className: \"node\"\n\n  initialize: (options) ->\n    # Setup the view DOM element\n    @makeElement()\n\n    # Initialize mouse events\n    if !options.isSubNode\n      @makeDraggable()\n    @initNodeClick()\n    @initTitleClick()\n\n    # Initialize the fields view\n    @fields_view = new FieldsView\n      node: @model\n      collection: @model.fields\n      el: $(\"> .options\", @$el)\n\n    # Bind events\n    @model.on('change', @render)\n    #@model.on('postInit', @postInit)\n    @model.on('remove', () => @remove())\n    @model.on(\"node:computePosition\", @computeNodePosition)\n    @model.on(\"node:renderConnections\", @renderConnections)\n    @model.on(\"node:addSelectedClass\", @addSelectedClass)\n\n    # Render the node and \"post init\" the model\n    @render()\n    @initContextMenus()\n    @highlighAnimations()\n    #@model.postInit()\n\n  initContextMenus: () =>\n    if $(\"#node-context-menu\").length < 1\n      node_menu = _.template(_view_node_context_menu, {})\n      $(\"body\").append(node_menu)\n    @$el.find(\".head\").contextMenu {menu: \"node-context-menu\"}, (action, el, pos) =>\n      if action == \"remove_node\" then @model.remove()\n    return @\n\n  makeElement: () =>\n    # Compile the template file\n    @template = _.template(_view_node_template, @model)\n    @$el.html(@template)\n\n    # Add the node group name as a class to the node element for easier styling\n    @$el.addClass(\"type-\" + @model.constructor.group_name)\n\n    # Add other dynamic classes\n    @$el.addClass(\"node-\" + @model.typename())\n\n  render: () =>\n    @$el.css\n      left: parseInt @model.get(\"x\")\n      top: parseInt @model.get(\"y\")\n    @$el.find(\"> .head span\").text(@model.get(\"name\"))\n    @$el.find(\"> .head span\").show()\n\n  highlighAnimations: () =>\n    nodeAnimation = false\n    for propTrack in @model.anim.objectTrack.propertyTracks\n      $target = $('.inputs .field-' + propTrack.name , @$el)\n      if propTrack.anims.length > 0\n        $target.addClass \"has-animation\"\n        nodeAnimation = true\n      else\n        $target.removeClass \"has-animation\"\n\n    @$el.toggleClass \"node-has-animation\", nodeAnimation\n    true\n\n  addSelectedClass: () =>\n    @$el.addClass(\"ui-selected\")\n\n  renderConnections: () =>\n    @model.fields.renderConnections()\n    if @model.nodes\n      _.each @model.nodes.models, (n) ->\n        n.fields.renderConnections()\n\n  computeNodePosition: () =>\n    pos = $(@el).position()\n    offset = $(\"#container-wrapper\").offset()\n    @model.set\n      x: pos.left + $(\"#container-wrapper\").scrollLeft()\n      y: pos.top + $(\"#container-wrapper\").scrollTop()\n\n  remove: () =>\n    $(\".field\", this.el).destroyContextMenu()\n    if @$el.data(\"draggable\") then @$el.draggable(\"destroy\")\n    $(this.el).unbind()\n    @undelegateEvents()\n    if @fields_view then @fields_view.remove()\n    delete @fields_view\n    super\n\n  initNodeClick: () ->\n    self = this\n    $(@el).click (e) ->\n      if e.metaKey == false\n        $( \".node\" ).removeClass(\"ui-selected\")\n        $(this).addClass(\"ui-selecting\")\n      else\n        if $(this).hasClass(\"ui-selected\")\n          $(this).removeClass(\"ui-selected\")\n        else\n          $(this).addClass(\"ui-selecting\")\n      selectable = $(\"#container\").data(\"ui-selectable\")\n      if !selectable then return\n      selectable.refresh()\n      selectable._mouseStop(null)\n      self.model.fields.renderSidebar()\n    return @\n\n  initTitleClick: () ->\n    self = this\n\n    $title_span = @$el.find(\"> .head span\")\n    $input = $(\"<input type='text' />\")\n    @$el.find(\"> .head\").append($input)\n    $input.hide()\n\n    # Fix conflict with contextmenu.\n    $input.on 'mousedown', (e) ->\n      e.stopPropagation()\n\n    $title_span.dblclick (e) ->\n      prev = $(this).html()\n      $input.val(prev)\n      $title_span.hide();\n      $input.show()\n\n      apply_input_result = () ->\n        self.model.set('name', $input.val())\n        $input.hide()\n        $title_span.show()\n\n      $input.blur (e) ->\n        apply_input_result()\n\n      $(\"#graph\").click (e) ->\n        apply_input_result()\n\n      $input.keydown (e) ->\n        # on enter\n        if e.keyCode == 13\n          apply_input_result()\n    return @\n\n  makeDraggable: () =>\n    self = this\n\n    nodes_offset = {top: 0, left: 0}\n    selected_nodes = $([])\n\n    $(this.el).draggable\n      start: (ev, ui) ->\n        if $(this).hasClass(\"ui-selected\")\n          selected_nodes = $(\".ui-selected\").each () ->\n            $(this).data(\"offset\", $(this).offset())\n        else\n          selected_nodes = $([])\n          $(\".node\").removeClass(\"ui-selected\")\n        nodes_offset = $(this).offset()\n      drag: (ev, ui) ->\n\n        dt = ui.position.top - nodes_offset.top\n        dl = ui.position.left - nodes_offset.left\n        selected_nodes.not(this).each () ->\n          el = $(this)\n          offset = el.data(\"offset\")\n          dx = offset.top + dt\n          dy = offset.left + dl\n          el.css\n            top: dx\n            left: dy\n          el.data(\"object\").trigger(\"node:computePosition\")\n          el.data(\"object\").trigger(\"node:renderConnections\")\n\n        self.renderConnections()\n      stop: () ->\n        selected_nodes.not(this).each () ->\n          el = $(this).data(\"object\")\n          el.trigger(\"node:renderConnections\")\n        self.computeNodePosition()\n        self.renderConnections()\n    return @\n\nThreeNodes.Core.addNodeView('NodeView', NodeView)\n\nmodule.exports = NodeView\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/nodes/views/NodeView.coffee\n **/","_ = require 'Underscore'\nBackbone = require 'Backbone'\nnamespace = require('libs/namespace').namespace\n\nrequire '../models/Node'\nNodeView = require './NodeView'\nrequire 'colorpicker'\n\nclass Color extends NodeView\n  initialize: (options) =>\n    super\n    # Need to compute rgb before adding the preview.\n    this.model.compute()\n    @init_preview()\n\n  init_preview: () =>\n    fields = @model.fields\n    @$picker_el = $(\"<div class='color_preview'></div>\")\n    col = fields.getField(\"rgb\", true).getValue(0)\n    @$picker_el.ColorPicker\n      color: {r: Math.ceil(col.r * 255), g: Math.ceil(col.g * 255), b: Math.ceil(col.b * 255)}\n      livePreview: false\n      onChange: (hsb, hex, rgb) =>\n        fields.getField(\"r\").setValue(rgb.r / 255)\n        fields.getField(\"g\").setValue(rgb.g / 255)\n        fields.getField(\"b\").setValue(rgb.b / 255)\n\n    $(\".center\", @$el).append(@$picker_el)\n\n    # on output value change set preview color\n    fields.getField(\"rgb\", true).on_value_update_hooks.set_bg_color_preview = (v) =>\n      @$picker_el.css\n        background: v[0].getStyle()\n\n  remove: () =>\n    @$picker_el.each () ->\n      if $(this).data('colorpickerId')\n        cal = $('#' + $(this).data('colorpickerId'))\n        picker = cal.data('colorpicker')\n        if picker\n          delete picker.onChange\n        # remove colorpicker dom element\n        cal.remove()\n    @$picker_el.unbind()\n    @$picker_el.remove()\n    delete @$picker_el\n    super\n\nmodule.exports = Color\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/nodes/views/Color.coffee\n **/","_ = require 'Underscore'\nBackbone = require 'Backbone'\n\nrequire '../models/Node'\nNodeView = require './NodeView'\n\nclass WebGLRenderer extends NodeView\n  initialize: (options) =>\n    super\n    @preview_mode = true\n    @creating_popup = false\n    @win = false\n    @old_bg = false\n\n    $(\"body\").append(\"<div id='webgl-window'></div>\")\n    @webgl_container = $(\"#webgl-window\")\n\n    @apply_size()\n    @apply_bg_color()\n    @add_mouse_handler()\n\n    @model.on(\"on_compute\", @update)\n\n    @webgl_container.bind \"click\", (e) =>\n      if @model.settings.player_mode == false\n        @create_popup_view()\n    #@update()\n\n  update: () =>\n    # help fix asynchronous bug with firefox when opening popup\n    if @creating_popup == true && !@win\n      return\n\n    @creating_popup = false\n    if !@model.settings.test\n      @add_renderer_to_dom()\n\n    @apply_size()\n    @apply_bg_color()\n\n  remove: () =>\n    if @win && @win != false\n      @win.close()\n\n    @webgl_container.unbind()\n    @webgl_container.remove()\n\n    delete @webgl_container\n    delete @win\n    super\n\n  add_mouse_handler: =>\n    $(@model.ob.domElement).unbind(\"mousemove\")\n    $(@model.ob.domElement).bind \"mousemove\", (e) ->\n      ThreeNodes.renderer.mouseX = e.clientX\n      ThreeNodes.renderer.mouseY = e.clientY\n    return this\n\n  create_popup_view: =>\n    @preview_mode = false\n    @creating_popup = true\n\n    w = @model.fields.getField('width').getValue()\n    h = @model.fields.getField('height').getValue()\n\n    @win = window.open('', 'win' + @model.nid, \"width=#{w},height=#{h},scrollbars=false,location=false,status=false,menubar=false\")\n    $(\"body\", $(@win.document)).append( @model.ob.domElement )\n    $(\"*\", $(@win.document)).css\n      padding: 0\n      margin: 0\n\n    @win.onbeforeunload = () =>\n      @preview_mode = true\n      @win.onbeforeunload = false\n      @win = false\n      @webgl_container.append( @model.ob.domElement )\n      @apply_bg_color(true)\n      @apply_size(true)\n      return\n\n    @apply_bg_color(true)\n    @apply_size(true)\n    @add_mouse_handler()\n    return this\n\n  create_preview_view: =>\n    @preview_mode = true\n    @webgl_container.append( @model.ob.domElement )\n    @apply_bg_color(true)\n    @apply_size(true)\n    @add_mouse_handler()\n    return this\n\n  add_renderer_to_dom: =>\n    if @preview_mode && $(\"canvas\", @webgl_container).length == 0\n      @create_preview_view()\n    if @preview_mode == false && @win == false\n      @create_popup_view()\n    return this\n\n  apply_bg_color: (force_refresh = false) ->\n    new_val = @model.fields.getField('bg_color').getValue().getStyle()\n\n    if @old_bg == new_val && force_refresh == false\n      return false\n\n    @model.ob.setClearColor( @model.fields.getField('bg_color').getValue(), 1 )\n    @webgl_container.css\n      background: new_val\n\n    if @win\n      $(@win.document.body).css\n        background: new_val\n\n    @old_bg = new_val\n\n  apply_size: (force_refresh = false) =>\n    w = @model.fields.getField('width').getValue()\n    h = @model.fields.getField('height').getValue()\n    dw = w\n    dh = h\n\n    if @win == false && @model.settings.player_mode == false\n      maxw = 220\n      r = w / h\n      dw = maxw\n      dh = dw / r\n    if dw != @model.width || dh != @model.height ||force_refresh\n      @model.ob.setSize(dw, dh)\n\n      if @win && @win != false\n        @win.resizeTo(dw, dh + 52)\n\n    @model.width = dw\n    @model.height = dh\n\nThreeNodes.Core.addNodeView('WebGLRenderer', WebGLRenderer)\n\nmodule.exports = WebGLRenderer\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/nodes/views/WebGLRenderer.coffee\n **/","_ = require 'Underscore'\nBackbone = require 'Backbone'\nnamespace = require('libs/namespace').namespace\n\nrequire '../models/Node'\nNodeView = require './NodeView'\n\nclass Group extends NodeView\n  initialize: (options) =>\n    super\n    @views = []\n    console.log options.model.nodes\n    _.each(options.model.nodes.models, @renderNode)\n\n  renderNode: (node) =>\n    nodename = node.constructor.name\n\n    if ThreeNodes.Core.nodes.views[nodename]\n      # If there is a view associated with the node model use it\n      viewclass = ThreeNodes.Core.nodes.views[nodename]\n    else\n      # Use the default view class\n      viewclass = ThreeNodes.NodeView\n\n    # same as Workspace.renderNode\n    $nodeEl = $(\"<div class='node'></div>\").appendTo(@$el.find(\"> .options\"))\n    view = new viewclass\n      model: node\n      isSubNode: true\n      el: $nodeEl\n\n    #view.$el.appendTo(@$el.find(\"> .options\"))\n\n    # Save the nid and model in the data attribute\n    view.$el.data(\"nid\", node.get(\"nid\"))\n    view.$el.data(\"object\", node)\n    @views.push(view)\n\n  remove: () =>\n    super\n\nmodule.exports = Group\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/nodes/views/Group.coffee\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_30__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Raphael\"\n ** module id = 30\n ** module chunks = 3\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_31__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Blob\"\n ** module id = 31\n ** module chunks = 0 3\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_32__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"FileSaver\"\n ** module id = 32\n ** module chunks = 0 3\n **/","class Utils\n  @flatArraysAreEquals: (arr1, arr2) ->\n    if arr1.length != arr2.length\n      return false\n\n    for k, i in arr1\n      if arr1[i] != arr2[i]\n        return false\n\n    true\n\nmodule.exports = Utils\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/utils/Utils.coffee\n **/","_ = require 'Underscore'\nBackbone = require 'Backbone'\nUtils = require 'threenodes/utils/Utils'\nFields = require 'threenodes/fields/collections/Fields'\n\n### Node model ###\n\n# Common base for all nodes.\nclass Node extends Backbone.Model\n  @node_name = ''\n  @group_name = ''\n\n  defaults:\n    nid: -1\n    gid: -1 # group id, set on subnodes of group == group.nid\n    x: 0\n    y: 0\n    width: null\n    height: null\n    name: \"\"\n\n  initialize: (options) =>\n    super\n\n    # Define common node properties defining how the node should be updated\n    @auto_evaluate = false\n    @delays_output = false\n    @dirty = true\n\n    # Define some utility variables, used internally\n    @is_animated = false\n    @out_connections = []\n\n    # Keep reference of some variables\n    @apptimeline = options.timeline\n    @settings = options.settings\n    @indexer = options.indexer\n    @options = options\n\n    # Parent node, used to detect if a node is part of a group\n    @parent = options.parent\n\n    # Set a default node name if none is provided\n    if @get('name') == '' then @set('name', @typename())\n\n    if @get('nid') == -1\n      # If this a new node assign a unique id to it\n      @set('nid', @indexer.getUID())\n    else\n      # If the node is loaded set the indexer uid to the node.nid.\n      # With this, the following created nodes will have a unique nid\n      @indexer.uid = @get('nid')\n\n    # Create the fields collections\n    @fields = new Fields(false, {node: this, indexer: @indexer})\n\n    # Call onFieldsCreated so that nodes can alias fields\n    @onFieldsCreated()\n\n    # Load saved data after the fields have been set\n    @fields.load(@options.fields)\n\n    # Init animation for current fields\n    @anim = @createAnimContainer()\n\n    # Load saved animation data if it exists\n    if @options.anim != false\n      @loadAnimation()\n\n    return this\n\n  typename: => String(@constructor.name)\n\n  onFieldsCreated: () =>\n    # This is where fields can get aliased ex:\n    # @v_in = @fields.getField(\"in\")\n\n  # Cleanup the variables and destroy internal anims and fields for garbage collection\n  remove: () =>\n    if @anim\n      @anim.destroy()\n    if @fields\n      @fields.destroy()\n    delete @fields\n    delete @apptimeline\n    delete @anim\n    delete @options\n    delete @settings\n    delete @indexer\n\n    # todo : remove when @model.postInit is removed in NodeView\n    delete @fully_inited\n\n    @destroy()\n\n  # Load the animation from json data\n  loadAnimation: () =>\n    for propLabel, anims of @options.anim\n      track = @anim.getPropertyTrack(propLabel)\n      for propKey in anims\n        track.keys.push\n          time: propKey.time,\n          value: propKey.value,\n          easing: Timeline.stringToEasingFunction(propKey.easing),\n          track: track\n      @anim.timeline.rebuildTrackAnimsFromKeys(track)\n    true\n\n  createConnection: (field1, field2) =>\n    @trigger(\"createConnection\", field1, field2)\n\n  addCountInput : () =>\n    @fields.addFields\n      inputs:\n        \"count\" : 1\n\n  createCacheObject: (values) =>\n    res = {}\n    for v in values\n      field = @fields.getField(v)\n      res[v] = if !field then false else field.attributes[\"value\"]\n    res\n\n  inputValueHasChanged: (values, cache = @material_cache) =>\n    for v in values\n      field = @fields.getField(v)\n      if !field\n        return false\n      else\n        v2 = field.attributes[\"value\"]\n        if v2 != cache[v]\n          return true\n    false\n\n  getFields: =>\n    # to implement\n    return {}\n\n  hasOutConnection: () =>\n    @out_connections.length != 0\n\n  getUpstreamNodes: () => @fields.getUpstreamNodes()\n  getDownstreamNodes: () => @fields.getDownstreamNodes()\n\n  hasPropertyTrackAnim: () =>\n    for propTrack in @anim.objectTrack.propertyTracks\n      if propTrack.anims.length > 0\n        return true\n    false\n\n  getAnimationData: () =>\n    if !@anim || !@anim.objectTrack || !@anim.objectTrack.propertyTracks || @hasPropertyTrackAnim() == false\n      return false\n    if @anim != false\n      res = {}\n      for propTrack in @anim.objectTrack.propertyTracks\n        res[propTrack.propertyName] = []\n        for anim in propTrack.keys\n          k =\n            time: anim.time\n            value: anim.value\n            easing: Timeline.easingFunctionToString(anim.easing)\n          res[propTrack.propertyName].push(k)\n\n    res\n\n  toJSON: () =>\n    res =\n      nid: @get('nid')\n      name: @get('name')\n      type: @typename()\n      anim: @getAnimationData()\n      x: @get('x')\n      y: @get('y')\n      width: @get('width')\n      height: @get('height')\n      fields: @fields.toJSON()\n    res\n\n  applyFieldsToVal: (afields, target, exceptions = [], index) =>\n    for f of afields\n      nf = afields[f]\n      field_name = nf.get(\"name\")\n      # Only apply value from fields that are not in the exclude list\n      if exceptions.indexOf(field_name) == -1\n        # Apply the field's value to the object property\n        target[field_name] = @fields.getField(field_name).getValue(index)\n\n  addOutConnection: (c, field) =>\n    if @out_connections.indexOf(c) == -1 then @out_connections.push(c)\n    c\n\n  removeConnection: (c) =>\n    c_index = @out_connections.indexOf(c)\n    if c_index != -1\n      @out_connections.splice(c_index, 1)\n    c\n\n  disablePropertyAnim: (field) =>\n    # We only want to animate inputs so we deactivate timeline's animation for outputs fields\n    if @anim && field.get(\"is_output\") == false\n      @anim.disableProperty(field.get(\"name\"))\n\n  enablePropertyAnim: (field) =>\n    # Make sure we don't enable animation on output fields\n    if field.get(\"is_output\") == true || !@anim\n      return false\n\n    # If the field can be animated enabale property animation\n    if field.isAnimationProperty() then @anim.enableProperty(field.get(\"name\"))\n\n  createAnimContainer: () =>\n    res = anim(\"nid-\" + @get(\"nid\"), @fields.inputs)\n    # enable track animation only for number/boolean\n    for f of @fields.inputs\n      field = @fields.inputs[f]\n      if field.isAnimationProperty() == false then @disablePropertyAnim(field)\n    return res\n\nmodule.exports = Node\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/nodes/models/Node.coffee\n **/","class Indexer\n  constructor: () ->\n    # Define a \"unique id\" property\n    @uid = 0\n\n  getUID: (increment = true) ->\n    if increment\n      return @uid += 1\n    else\n      return @uid\n\n  reset: () ->\n    @uid = 0\n\nmodule.exports = Indexer\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/utils/Indexer.coffee\n **/","#\"use strict\"\n_ = require 'Underscore'\nBackbone = require 'Backbone'\nNodeSidebarView = require 'threenodes/views/sidebar/NodeSidebarView'\nTreeView = require 'threenodes/views/TreeView'\n\nrequire 'jquery.ui'\n\n### Sidebar View ###\nclass Sidebar extends Backbone.View\n  initialize: () ->\n    super\n    # Keep references of node attributes subviews\n    @node_views = []\n\n    @initNewNode()\n    @initSearch()\n    @initTabs()\n    @initTreeView()\n    @layout = @$el.layout\n      scrollToBookmarkOnLoad: false\n      north:\n        closable: false\n        resizable: false\n        slidable: false\n        #size: 24\n        resizerClass: \"ui-layout-resizer-hidden\"\n        spacing_open: 0\n        spacing_closed: 0\n      center:\n        size: \"100%\"\n\n  initTreeView: () =>\n    @treeview = new TreeView\n      el: $(\"#tab-list\")\n    return this\n\n  render: (nodes) =>\n    if @treeview then @treeview.render(nodes)\n\n  clearWorkspace: () =>\n    @treeview.render(false)\n\n  initTabs: () =>\n    @$el.tabs\n      fx:\n        opacity: 'toggle'\n        duration: 100\n    return this\n\n  clearNodesAttributes: () =>\n    removeExistingNodes = () =>\n      if @node_views.length > 0\n        _.each @node_views, (view) -> view.remove()\n        @node_views = []\n\n    removeExistingNodes()\n\n    # Always start with an empty element\n    $target = $(\"#tab-attribute\")\n    $target.html(\"\");\n    return this\n\n  # Display fields attributes in sidebar when nodes are selected\n  renderNodesAttributes: (nodes) =>\n    $target = $(\"#tab-attribute\")\n    # If there is no nodes to show abort now\n    if !nodes || nodes.length < 1\n      return this\n\n    for node in nodes\n      if node.get(\"type\") != \"Group\"\n        view = new NodeSidebarView\n          model: node\n          #el: $target\n        $target.append(view.el)\n        @node_views.push view\n      else\n        # We render a group of subnodes\n        $target.append(\"<h3>#{node.get(\"name\")}</h3>\")\n        nodes_grp = node.nodes.models\n        @renderNodesAttributes(nodes_grp)\n\n    return this\n\n  filterListItem: ($item, value) =>\n    s = $.trim($(\"a\", $item).html()).toLowerCase()\n    if s.indexOf(value) == -1\n      $item.hide()\n    else\n      $item.show()\n\n  filterList: (ul, value) =>\n    self = this\n    ul_title = ul.prev()\n    has_visible_items = false\n\n    $(\"li\", ul).each () -> self.filterListItem($(this), value)\n\n    if $(\"li:visible\", ul).length == 0\n      ul_title.hide()\n    else\n      ul_title.show()\n    return this\n\n  initSearch: () =>\n    self = this\n    $(\"#node_filter\").keyup (e) ->\n      v = $.trim($(\"#node_filter\").val()).toLowerCase()\n      if v == \"\"\n        $(\"#tab-new li, #tab-new h3\").show()\n      else\n        $(\"#tab-new ul\").each () -> self.filterList($(this), v)\n    return this\n\n  initNewNode: () =>\n    self = this\n    $container = $(\"#tab-new\")\n    result = []\n    # nodes_by_group could be an empty object but we define\n    # inital groups to have a coherent ordering in sidebar\n    nodes_by_group =\n      Base: []\n      Conditional: []\n      Math: []\n      Code: []\n      Utils: []\n      Three: []\n      Geometry: []\n      Materials: []\n      Lights: []\n      PostProcessing: []\n      Spread: []\n      Particle: []\n      \"Particle-sparks\": []\n      \"Particle-sparks-initializers\": []\n      \"Particle-sparks-actions\": []\n      \"Particle-sparks-zone\": []\n      \"Constructive-Geometry\": []\n\n    # Organize each node types by group\n    for node of ThreeNodes.Core.nodes.models\n      # don't show hidden nodes types (group_name = false)\n      if ThreeNodes.Core.nodes.models[node].group_name\n        group_name = (ThreeNodes.Core.nodes.models[node].group_name).replace(/\\./g, \"-\")\n        if !nodes_by_group[group_name]\n          nodes_by_group[group_name] = []\n        nodes_by_group[group_name].push(node)\n\n    # Render the buttons and add them to the dom\n    for group of nodes_by_group\n      $container.append(\"<h3>#{group}</h3><ul id='nodetype-#{group}'></ul>\")\n      for node in nodes_by_group[group]\n        $(\"#nodetype-#{group}\", $container).append(\"<li><a class='button' rel='#{node}' href='#'>#{ ThreeNodes.Core.nodes.models[node].node_name }</a></li>\")\n\n    # Make the list of nodes draggable\n    $(\"a.button\", $container).draggable\n      revert: \"valid\"\n      opacity: 0.7\n      helper: \"clone\"\n      revertDuration: 0\n      scroll: false\n      containment: \"document\"\n\n    return this\n\nmodule.exports = Sidebar\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/views/sidebar/Sidebar.coffee\n **/","#\"use strict\"\n_ = require 'Underscore'\nBackbone = require 'Backbone'\n\nclass Breadcrumb extends Backbone.View\n  initialize: () ->\n    super\n    @$el.click(@onClick)\n\n  reset: () =>\n    @items = []\n    @$el.html(\"\")\n\n  set: (items) =>\n    # items is an ordered array of groups\n    @items = items\n    @$el.html(\"<a href='#' data-gid='global'>Global</a>\")\n    for item in items\n      name = item.get(\"name\")\n      gid = item.get(\"gid\")\n      @$el.append(\"  \" + \"<a href='#' class='grp' data-gid='#{gid}'>#{name}</a>\")\n\n  onClick: (e) =>\n    gid = $(e.target).data(\"gid\")\n    if gid == \"global\"\n      @trigger(\"click\", \"global\")\n\nmodule.exports = Breadcrumb\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/views/Breadcrumb.coffee\n **/","#\"use strict\"\n_ = require 'Underscore'\nBackbone = require 'Backbone'\n_view_menubar = require 'templates/app_menubar.tmpl.html'\nrequire 'jquery.menubar'\n\nclass MenuBar extends Backbone.View\n  @template: _view_menubar\n\n  initialize: () ->\n    @$el.menubar()\n\n    self = this\n    $(\"a\", @$el).click (event) ->\n      if $(this).next().is(\"ul\")\n        return false\n\n      url = $(this).attr('href').substr(1)\n      self.onLinkClick(event, this, url)\n\n    $(\"#main_file_input_open\").change (e) =>\n      @trigger(\"LoadFile\", e)\n\n  onLinkClick: (event, link, url) =>\n    data_event = $(link).data(\"event\")\n    data_attr = $(link).data(\"eventData\")\n\n    if data_event\n      #event.preventDefault()\n\n      @trigger(data_event, data_attr)\n\n      # exceptions and special event handling\n      switch data_event\n        when \"ClearWorkspace\"\n          Backbone.history.navigate(\"\", false)\n        when \"OpenFile\"\n          $(\"#main_file_input_open\").click()\n      return true\n\n    # sends \"normal\" urls to the router\n    return true\n\nmodule.exports = MenuBar\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/views/MenuBar.coffee\n **/","/*\n * transform: A jQuery cssHooks adding cross-browser 2d transform capabilities to $.fn.css() and $.fn.animate()\n *\n * limitations:\n * - requires jQuery 1.4.3+\n * - Should you use the *translate* property, then your elements need to be absolutely positionned in a relatively positionned wrapper **or it will fail in IE678**.\n * - transformOrigin is not accessible\n *\n * latest version and complete README available on Github:\n * https://github.com/louisremi/jquery.transform.js\n *\n * Copyright 2011 @louis_remi\n * Licensed under the MIT license.\n *\n * This saved you an hour of work?\n * Send me music http://www.amazon.co.uk/wishlist/HNTU0468LQON\n *\n */\n(function( $, window, document, Math, undefined ) {\n\n/*\n * Feature tests and global variables\n */\nvar div = document.createElement(\"div\"),\n\tdivStyle = div.style,\n\tsuffix = \"Transform\",\n\ttestProperties = [\n\t\t\"O\" + suffix,\n\t\t\"ms\" + suffix,\n\t\t\"Webkit\" + suffix,\n\t\t\"Moz\" + suffix\n\t],\n\ti = testProperties.length,\n\tsupportProperty,\n\tsupportMatrixFilter,\n\tsupportFloat32Array = \"Float32Array\" in window,\n\tpropertyHook,\n\tpropertyGet,\n\trMatrix = /Matrix([^)]*)/,\n\trAffine = /^\\s*matrix\\(\\s*1\\s*,\\s*0\\s*,\\s*0\\s*,\\s*1\\s*(?:,\\s*0(?:px)?\\s*){2}\\)\\s*$/,\n\t_transform = \"transform\",\n\t_transformOrigin = \"transformOrigin\",\n\t_translate = \"translate\",\n\t_rotate = \"rotate\",\n\t_scale = \"scale\",\n\t_skew = \"skew\",\n\t_matrix = \"matrix\";\n\n// test different vendor prefixes of these properties\nwhile ( i-- ) {\n\tif ( testProperties[i] in divStyle ) {\n\t\t$.support[_transform] = supportProperty = testProperties[i];\n\t\t$.support[_transformOrigin] = supportProperty + \"Origin\";\n\t\tcontinue;\n\t}\n}\n// IE678 alternative\nif ( !supportProperty ) {\n\t$.support.matrixFilter = supportMatrixFilter = divStyle.filter === \"\";\n}\n\n// px isn't the default unit of these properties\n$.cssNumber[_transform] = $.cssNumber[_transformOrigin] = true;\n\n/*\n * fn.css() hooks\n */\nif ( supportProperty && supportProperty != _transform ) {\n\t// Modern browsers can use jQuery.cssProps as a basic hook\n\t$.cssProps[_transform] = supportProperty;\n\t$.cssProps[_transformOrigin] = supportProperty + \"Origin\";\n\n\t// Firefox needs a complete hook because it stuffs matrix with \"px\"\n\tif ( supportProperty == \"Moz\" + suffix ) {\n\t\tpropertyHook = {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\treturn (computed ?\n\t\t\t\t\t// remove \"px\" from the computed matrix\n\t\t\t\t\t$.css( elem, supportProperty ).split(\"px\").join(\"\"):\n\t\t\t\t\telem.style[supportProperty]\n\t\t\t\t);\n\t\t\t},\n\t\t\tset: function( elem, value ) {\n\t\t\t\t// add \"px\" to matrices\n\t\t\t\telem.style[supportProperty] = /matrix\\([^)p]*\\)/.test(value) ?\n\t\t\t\t\tvalue.replace(/matrix((?:[^,]*,){4})([^,]*),([^)]*)/, _matrix+\"$1$2px,$3px\"):\n\t\t\t\t\tvalue;\n\t\t\t}\n\t\t};\n\t/* Fix two jQuery bugs still present in 1.5.1\n\t * - rupper is incompatible with IE9, see http://jqbug.com/8346\n\t * - jQuery.css is not really jQuery.cssProps aware, see http://jqbug.com/8402\n\t */\n\t} else if ( /^1\\.[0-5](?:\\.|$)/.test($.fn.jquery) ) {\n\t\tpropertyHook = {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\treturn (computed ?\n\t\t\t\t\t$.css( elem, supportProperty.replace(/^ms/, \"Ms\") ):\n\t\t\t\t\telem.style[supportProperty]\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\t}\n\t/* TODO: leverage hardware acceleration of 3d transform in Webkit only\n\telse if ( supportProperty == \"Webkit\" + suffix && support3dTransform ) {\n\t\tpropertyHook = {\n\t\t\tset: function( elem, value ) {\n\t\t\t\telem.style[supportProperty] =\n\t\t\t\t\tvalue.replace();\n\t\t\t}\n\t\t}\n\t}*/\n\n} else if ( supportMatrixFilter ) {\n\tpropertyHook = {\n\t\tget: function( elem, computed, asArray ) {\n\t\t\tvar elemStyle = ( computed && elem.currentStyle ? elem.currentStyle : elem.style ),\n\t\t\t\tmatrix, data;\n\n\t\t\tif ( elemStyle && rMatrix.test( elemStyle.filter ) ) {\n\t\t\t\tmatrix = RegExp.$1.split(\",\");\n\t\t\t\tmatrix = [\n\t\t\t\t\tmatrix[0].split(\"=\")[1],\n\t\t\t\t\tmatrix[2].split(\"=\")[1],\n\t\t\t\t\tmatrix[1].split(\"=\")[1],\n\t\t\t\t\tmatrix[3].split(\"=\")[1]\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tmatrix = [1,0,0,1];\n\t\t\t}\n\n\t\t\tif ( ! $.cssHooks[_transformOrigin] ) {\n\t\t\t\tmatrix[4] = elemStyle ? parseInt(elemStyle.left, 10) || 0 : 0;\n\t\t\t\tmatrix[5] = elemStyle ? parseInt(elemStyle.top, 10) || 0 : 0;\n\n\t\t\t} else {\n\t\t\t\tdata = $._data( elem, \"transformTranslate\", undefined );\n\t\t\t\tmatrix[4] = data ? data[0] : 0;\n\t\t\t\tmatrix[5] = data ? data[1] : 0;\n\t\t\t}\n\n\t\t\treturn asArray ? matrix : _matrix+\"(\" + matrix + \")\";\n\t\t},\n\t\tset: function( elem, value, animate ) {\n\t\t\tvar elemStyle = elem.style,\n\t\t\t\tcurrentStyle,\n\t\t\t\tMatrix,\n\t\t\t\tfilter,\n\t\t\t\tcenterOrigin;\n\n\t\t\tif ( !animate ) {\n\t\t\t\telemStyle.zoom = 1;\n\t\t\t}\n\n\t\t\tvalue = matrix(value);\n\n\t\t\t// rotate, scale and skew\n\t\t\tMatrix = [\n\t\t\t\t\"Matrix(\"+\n\t\t\t\t\t\"M11=\"+value[0],\n\t\t\t\t\t\"M12=\"+value[2],\n\t\t\t\t\t\"M21=\"+value[1],\n\t\t\t\t\t\"M22=\"+value[3],\n\t\t\t\t\t\"SizingMethod='auto expand'\"\n\t\t\t].join();\n\t\t\tfilter = ( currentStyle = elem.currentStyle ) && currentStyle.filter || elemStyle.filter || \"\";\n\n\t\t\telemStyle.filter = rMatrix.test(filter) ?\n\t\t\t\tfilter.replace(rMatrix, Matrix) :\n\t\t\t\tfilter + \" progid:DXImageTransform.Microsoft.\" + Matrix + \")\";\n\n\t\t\tif ( ! $.cssHooks[_transformOrigin] ) {\n\n\t\t\t\t// center the transform origin, from pbakaus's Transformie http://github.com/pbakaus/transformie\n\t\t\t\tif ( (centerOrigin = $.transform.centerOrigin) ) {\n\t\t\t\t\telemStyle[centerOrigin == \"margin\" ? \"marginLeft\" : \"left\"] = -(elem.offsetWidth/2) + (elem.clientWidth/2) + \"px\";\n\t\t\t\t\telemStyle[centerOrigin == \"margin\" ? \"marginTop\" : \"top\"] = -(elem.offsetHeight/2) + (elem.clientHeight/2) + \"px\";\n\t\t\t\t}\n\n\t\t\t\t// translate\n\t\t\t\t// We assume that the elements are absolute positionned inside a relative positionned wrapper\n\t\t\t\telemStyle.left = value[4] + \"px\";\n\t\t\t\telemStyle.top = value[5] + \"px\";\n\n\t\t\t} else {\n\t\t\t\t$.cssHooks[_transformOrigin].set( elem, value );\n\t\t\t}\n\t\t}\n\t};\n}\n// populate jQuery.cssHooks with the appropriate hook if necessary\nif ( propertyHook ) {\n\t$.cssHooks[_transform] = propertyHook;\n}\n// we need a unique setter for the animation logic\npropertyGet = propertyHook && propertyHook.get || $.css;\n\n/*\n * fn.animate() hooks\n */\n$.fx.step.transform = function( fx ) {\n\tvar elem = fx.elem,\n\t\tstart = fx.start,\n\t\tend = fx.end,\n\t\tpos = fx.pos,\n\t\ttransform = \"\",\n\t\tprecision = 1E5,\n\t\ti, startVal, endVal, unit;\n\n\t// fx.end and fx.start need to be converted to interpolation lists\n\tif ( !start || typeof start === \"string\" ) {\n\n\t\t// the following block can be commented out with jQuery 1.5.1+, see #7912\n\t\tif ( !start ) {\n\t\t\tstart = propertyGet( elem, supportProperty );\n\t\t}\n\n\t\t// force layout only once per animation\n\t\tif ( supportMatrixFilter ) {\n\t\t\telem.style.zoom = 1;\n\t\t}\n\n\t\t// replace \"+=\" in relative animations (-= is meaningless with transforms)\n\t\tend = end.split(\"+=\").join(start);\n\n\t\t// parse both transform to generate interpolation list of same length\n\t\t$.extend( fx, interpolationList( start, end ) );\n\t\tstart = fx.start;\n\t\tend = fx.end;\n\t}\n\n\ti = start.length;\n\n\t// interpolate functions of the list one by one\n\twhile ( i-- ) {\n\t\tstartVal = start[i];\n\t\tendVal = end[i];\n\t\tunit = +false;\n\n\t\tswitch ( startVal[0] ) {\n\n\t\t\tcase _translate:\n\t\t\t\tunit = \"px\";\n\t\t\tcase _scale:\n\t\t\t\tunit || ( unit = \"\");\n\n\t\t\t\ttransform = startVal[0] + \"(\" +\n\t\t\t\t\tMath.round( (startVal[1][0] + (endVal[1][0] - startVal[1][0]) * pos) * precision ) / precision + unit +\",\"+\n\t\t\t\t\tMath.round( (startVal[1][1] + (endVal[1][1] - startVal[1][1]) * pos) * precision ) / precision + unit + \")\"+\n\t\t\t\t\ttransform;\n\t\t\t\tbreak;\n\n\t\t\tcase _skew + \"X\":\n\t\t\tcase _skew + \"Y\":\n\t\t\tcase _rotate:\n\t\t\t\ttransform = startVal[0] + \"(\" +\n\t\t\t\t\tMath.round( (startVal[1] + (endVal[1] - startVal[1]) * pos) * precision ) / precision +\"rad)\"+\n\t\t\t\t\ttransform;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tfx.origin && ( transform = fx.origin + transform );\n\n\tpropertyHook && propertyHook.set ?\n\t\tpropertyHook.set( elem, transform, +true ):\n\t\telem.style[supportProperty] = transform;\n};\n\n/*\n * Utility functions\n */\n\n// turns a transform string into its \"matrix(A,B,C,D,X,Y)\" form (as an array, though)\nfunction matrix( transform ) {\n\ttransform = transform.split(\")\");\n\tvar\n\t\t\ttrim = $.trim\n\t\t, i = -1\n\t\t// last element of the array is an empty string, get rid of it\n\t\t, l = transform.length -1\n\t\t, split, prop, val\n\t\t, prev = supportFloat32Array ? new Float32Array(6) : []\n\t\t, curr = supportFloat32Array ? new Float32Array(6) : []\n\t\t, rslt = supportFloat32Array ? new Float32Array(6) : [1,0,0,1,0,0]\n\t\t;\n\n\tprev[0] = prev[3] = rslt[0] = rslt[3] = 1;\n\tprev[1] = prev[2] = prev[4] = prev[5] = 0;\n\n\t// Loop through the transform properties, parse and multiply them\n\twhile ( ++i < l ) {\n\t\tsplit = transform[i].split(\"(\");\n\t\tprop = trim(split[0]);\n\t\tval = split[1];\n\t\tcurr[0] = curr[3] = 1;\n\t\tcurr[1] = curr[2] = curr[4] = curr[5] = 0;\n\n\t\tswitch (prop) {\n\t\t\tcase _translate+\"X\":\n\t\t\t\tcurr[4] = parseInt(val, 10);\n\t\t\t\tbreak;\n\n\t\t\tcase _translate+\"Y\":\n\t\t\t\tcurr[5] = parseInt(val, 10);\n\t\t\t\tbreak;\n\n\t\t\tcase _translate:\n\t\t\t\tval = val.split(\",\");\n\t\t\t\tcurr[4] = parseInt(val[0], 10);\n\t\t\t\tcurr[5] = parseInt(val[1] || 0, 10);\n\t\t\t\tbreak;\n\n\t\t\tcase _rotate:\n\t\t\t\tval = toRadian(val);\n\t\t\t\tcurr[0] = Math.cos(val);\n\t\t\t\tcurr[1] = Math.sin(val);\n\t\t\t\tcurr[2] = -Math.sin(val);\n\t\t\t\tcurr[3] = Math.cos(val);\n\t\t\t\tbreak;\n\n\t\t\tcase _scale+\"X\":\n\t\t\t\tcurr[0] = +val;\n\t\t\t\tbreak;\n\n\t\t\tcase _scale+\"Y\":\n\t\t\t\tcurr[3] = val;\n\t\t\t\tbreak;\n\n\t\t\tcase _scale:\n\t\t\t\tval = val.split(\",\");\n\t\t\t\tcurr[0] = val[0];\n\t\t\t\tcurr[3] = val.length>1 ? val[1] : val[0];\n\t\t\t\tbreak;\n\n\t\t\tcase _skew+\"X\":\n\t\t\t\tcurr[2] = Math.tan(toRadian(val));\n\t\t\t\tbreak;\n\n\t\t\tcase _skew+\"Y\":\n\t\t\t\tcurr[1] = Math.tan(toRadian(val));\n\t\t\t\tbreak;\n\n\t\t\tcase _matrix:\n\t\t\t\tval = val.split(\",\");\n\t\t\t\tcurr[0] = val[0];\n\t\t\t\tcurr[1] = val[1];\n\t\t\t\tcurr[2] = val[2];\n\t\t\t\tcurr[3] = val[3];\n\t\t\t\tcurr[4] = parseInt(val[4], 10);\n\t\t\t\tcurr[5] = parseInt(val[5], 10);\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// Matrix product (array in column-major order)\n\t\trslt[0] = prev[0] * curr[0] + prev[2] * curr[1];\n\t\trslt[1] = prev[1] * curr[0] + prev[3] * curr[1];\n\t\trslt[2] = prev[0] * curr[2] + prev[2] * curr[3];\n\t\trslt[3] = prev[1] * curr[2] + prev[3] * curr[3];\n\t\trslt[4] = prev[0] * curr[4] + prev[2] * curr[5] + prev[4];\n\t\trslt[5] = prev[1] * curr[4] + prev[3] * curr[5] + prev[5];\n\n\t\tprev = [rslt[0],rslt[1],rslt[2],rslt[3],rslt[4],rslt[5]];\n\t}\n\treturn rslt;\n}\n\n// turns a matrix into its rotate, scale and skew components\n// algorithm from http://hg.mozilla.org/mozilla-central/file/7cb3e9795d04/layout/style/nsStyleAnimation.cpp\nfunction unmatrix(matrix) {\n\tvar\n\t\t\tscaleX\n\t\t, scaleY\n\t\t, skew\n\t\t, A = matrix[0]\n\t\t, B = matrix[1]\n\t\t, C = matrix[2]\n\t\t, D = matrix[3]\n\t\t;\n\n\t// Make sure matrix is not singular\n\tif ( A * D - B * C ) {\n\t\t// step (3)\n\t\tscaleX = Math.sqrt( A * A + B * B );\n\t\tA /= scaleX;\n\t\tB /= scaleX;\n\t\t// step (4)\n\t\tskew = A * C + B * D;\n\t\tC -= A * skew;\n\t\tD -= B * skew;\n\t\t// step (5)\n\t\tscaleY = Math.sqrt( C * C + D * D );\n\t\tC /= scaleY;\n\t\tD /= scaleY;\n\t\tskew /= scaleY;\n\t\t// step (6)\n\t\tif ( A * D < B * C ) {\n\t\t\tA = -A;\n\t\t\tB = -B;\n\t\t\tskew = -skew;\n\t\t\tscaleX = -scaleX;\n\t\t}\n\n\t// matrix is singular and cannot be interpolated\n\t} else {\n\t\t// In this case the elem shouldn't be rendered, hence scale == 0\n\t\tscaleX = scaleY = skew = 0;\n\t}\n\n\t// The recomposition order is very important\n\t// see http://hg.mozilla.org/mozilla-central/file/7cb3e9795d04/layout/style/nsStyleAnimation.cpp#l971\n\treturn [\n\t\t[_translate, [+matrix[4], +matrix[5]]],\n\t\t[_rotate, Math.atan2(B, A)],\n\t\t[_skew + \"X\", Math.atan(skew)],\n\t\t[_scale, [scaleX, scaleY]]\n\t];\n}\n\n// build the list of transform functions to interpolate\n// use the algorithm described at http://dev.w3.org/csswg/css3-2d-transforms/#animation\nfunction interpolationList( start, end ) {\n\tvar list = {\n\t\t\tstart: [],\n\t\t\tend: []\n\t\t},\n\t\ti = -1, l,\n\t\tcurrStart, currEnd, currType;\n\n\t// get rid of affine transform matrix\n\t( start == \"none\" || isAffine( start ) ) && ( start = \"\" );\n\t( end == \"none\" || isAffine( end ) ) && ( end = \"\" );\n\n\t// if end starts with the current computed style, this is a relative animation\n\t// store computed style as the origin, remove it from start and end\n\tif ( start && end && !end.indexOf(\"matrix\") && toArray( start ).join() == toArray( end.split(\")\")[0] ).join() ) {\n\t\tlist.origin = start;\n\t\tstart = \"\";\n\t\tend = end.slice( end.indexOf(\")\") +1 );\n\t}\n\n\tif ( !start && !end ) { return; }\n\n\t// start or end are affine, or list of transform functions are identical\n\t// => functions will be interpolated individually\n\tif ( !start || !end || functionList(start) == functionList(end) ) {\n\n\t\tstart && ( start = start.split(\")\") ) && ( l = start.length );\n\t\tend && ( end = end.split(\")\") ) && ( l = end.length );\n\n\t\twhile ( ++i < l-1 ) {\n\t\t\tstart[i] && ( currStart = start[i].split(\"(\") );\n\t\t\tend[i] && ( currEnd = end[i].split(\"(\") );\n\t\t\tcurrType = $.trim( ( currStart || currEnd )[0] );\n\n\t\t\tappend( list.start, parseFunction( currType, currStart ? currStart[1] : 0 ) );\n\t\t\tappend( list.end, parseFunction( currType, currEnd ? currEnd[1] : 0 ) );\n\t\t}\n\n\t// otherwise, functions will be composed to a single matrix\n\t} else {\n\t\tlist.start = unmatrix(matrix(start));\n\t\tlist.end = unmatrix(matrix(end))\n\t}\n\n\treturn list;\n}\n\nfunction parseFunction( type, value ) {\n\tvar\n\t\t// default value is 1 for scale, 0 otherwise\n\t\tdefaultValue = +(!type.indexOf(_scale)),\n\t\tscaleX,\n\t\t// remove X/Y from scaleX/Y & translateX/Y, not from skew\n\t\tcat = type.replace( /e[XY]/, \"e\" );\n\n\tswitch ( type ) {\n\t\tcase _translate+\"Y\":\n\t\tcase _scale+\"Y\":\n\n\t\t\tvalue = [\n\t\t\t\tdefaultValue,\n\t\t\t\tvalue ?\n\t\t\t\t\tparseFloat( value ):\n\t\t\t\t\tdefaultValue\n\t\t\t];\n\t\t\tbreak;\n\n\t\tcase _translate+\"X\":\n\t\tcase _translate:\n\t\tcase _scale+\"X\":\n\t\t\tscaleX = 1;\n\t\tcase _scale:\n\n\t\t\tvalue = value ?\n\t\t\t\t( value = value.split(\",\") ) &&\t[\n\t\t\t\t\tparseFloat( value[0] ),\n\t\t\t\t\tparseFloat( value.length>1 ? value[1] : type == _scale ? scaleX || value[0] : defaultValue+\"\" )\n\t\t\t\t]:\n\t\t\t\t[defaultValue, defaultValue];\n\t\t\tbreak;\n\n\t\tcase _skew+\"X\":\n\t\tcase _skew+\"Y\":\n\t\tcase _rotate:\n\t\t\tvalue = value ? toRadian( value ) : 0;\n\t\t\tbreak;\n\n\t\tcase _matrix:\n\t\t\treturn unmatrix( value ? toArray(value) : [1,0,0,1,0,0] );\n\t\t\tbreak;\n\t}\n\n\treturn [[ cat, value ]];\n}\n\nfunction isAffine( matrix ) {\n\treturn rAffine.test(matrix);\n}\n\nfunction functionList( transform ) {\n\treturn transform.replace(/(?:\\([^)]*\\))|\\s/g, \"\");\n}\n\nfunction append( arr1, arr2, value ) {\n\twhile ( value = arr2.shift() ) {\n\t\tarr1.push( value );\n\t}\n}\n\n// converts an angle string in any unit to a radian Float\nfunction toRadian(value) {\n\treturn ~value.indexOf(\"deg\") ?\n\t\tparseInt(value,10) * (Math.PI * 2 / 360):\n\t\t~value.indexOf(\"grad\") ?\n\t\t\tparseInt(value,10) * (Math.PI/200):\n\t\t\tparseFloat(value);\n}\n\n// Converts \"matrix(A,B,C,D,X,Y)\" to [A,B,C,D,X,Y]\nfunction toArray(matrix) {\n\t// remove the unit of X and Y for Firefox\n\tmatrix = /([^,]*),([^,]*),([^,]*),([^,]*),([^,p]*)(?:px)?,([^)p]*)(?:px)?/.exec(matrix);\n\treturn [matrix[1], matrix[2], matrix[3], matrix[4], matrix[5], matrix[6]];\n}\n\n$.transform = {\n\tcenterOrigin: \"margin\"\n};\n\n})( jQuery, window, document, Math );\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./libs/jquery.transform2d.js\n ** module id = 48\n ** module chunks = 3\n **/","/**\n * ScrollView - jQuery plugin 0.1\n *\n * This plugin supplies contents view by grab and drag scroll.\n *\n * Copyright (c) 2009 Toshimitsu Takahashi\n *\n * Released under the MIT license.\n *\n * == Usage =======================\n *   // apply to block element.\n *   $(\"#map\").scrollview();\n *   \n *   // with setting grab and drag icon urls.\n *   //   grab: the cursor when mouse button is up.\n *   //   grabbing: the cursor when mouse button is down.\n *   //\n *   $(\"#map\".scrollview({\n *     grab : \"images/openhand.cur\",\n *     grabbing : \"images/closedhand.cur\"\n *   });\n * ================================\n */\n(function() {\n    function ScrollView(){ this.initialize.apply(this, arguments) }\n    ScrollView.prototype = {\n        initialize: function(container, config){\n                // setting cursor.\n                var gecko = navigator.userAgent.indexOf(\"Gecko/\") != -1;\n                var opera = navigator.userAgent.indexOf(\"Opera/\") != -1;\n                var mac = navigator.userAgent.indexOf(\"Mac OS\") != -1;\n                if (opera) {\n                    this.grab = \"default\";\n                    this.grabbing = \"move\";\n                } else if (!(mac && gecko) && config) {\n                    if (config.grab) {\n                       this.grab = \"url(\\\"\" + config.grab + \"\\\"),default\";\n                    }\n                    if (config.grabbing) {\n                       this.grabbing = \"url(\" + config.grabbing + \"),move\";\n                    }\n                } else if (gecko) {\n                    this.grab = \"-moz-grab\";\n                    this.grabbing = \"-moz-grabbing\";\n                } else {\n                    this.grab = \"default\";\n                    this.grabbing = \"move\";\n                }\n                \n                // Get container and image.\n                this.m = $(container);\n                this.i = this.m.children().css(\"cursor\", this.grab);\n                \n                this.isgrabbing = false;\n                \n                // Set mouse events.\n                var self = this;\n                this.i.mousedown(function(e){\n                  // todo: make the first condition an option and submit a patch when it's done\n                        if (e.target != $(\"svg\", $(container))[0]) {\n                          return false;\n                        }\n                        self.startgrab();\n                        this.xp = e.pageX;\n                        this.yp = e.pageY;\n                        return false;\n                }).mousemove(function(e){\n                        if (!self.isgrabbing) return true;\n                        self.scrollTo(this.xp - e.pageX, this.yp - e.pageY);\n                        this.xp = e.pageX;\n                        this.yp = e.pageY;\n                        return false;\n                })\n                .mouseout(function(){ self.stopgrab() })\n                .mouseup(function(){ self.stopgrab() });\n                \n                this.centering();\n        },\n        centering: function(){\n                var _m = this.m;\n                var w = this.i.width() - _m.width();\n                var h = this.i.height() - _m.height();\n                _m.scrollLeft(w / 2).scrollTop(h / 2);\n        },\n        startgrab: function(){\n                this.isgrabbing = true;\n                this.i.css(\"cursor\", this.grabbing);\n        },\n        stopgrab: function(){\n                this.isgrabbing = false;\n                this.i.css(\"cursor\", this.grab);\n        },\n        scrollTo: function(dx, dy){\n                var _m = this.m;\n                var x = _m.scrollLeft() + dx;\n                var y = _m.scrollTop() + dy;\n                _m.scrollLeft(x).scrollTop(y);\n        }\n    };\n    \n    jQuery.fn.scrollview = function(config){\n        return this.each(function(){\n            new ScrollView(this, config);\n        });\n    };\n})(jQuery);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./libs/jquery-scrollview/jquery.scrollview.js\n ** module id = 49\n ** module chunks = 3\n **/","/*\n * namespace.coffee v1.0.0\n * Copyright (c) 2011 CodeCatalyst, LLC.\n * Open source under the MIT License.\n */\n(function() {\n  var namespace;\n  namespace = function(name, values) {\n    var key, subpackage, target, value, _i, _len, _ref, _results;\n    target = typeof exports !== \"undefined\" && exports !== null ? exports : window;\n    //target = window;\n    if (name.length > 0) {\n      _ref = name.split('.');\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        subpackage = _ref[_i];\n        target = target[subpackage] || (target[subpackage] = {});\n      }\n    }\n    _results = [];\n    for (key in values) {\n      value = values[key];\n      _results.push(target[key] = value);\n    }\n    return _results;\n  };\n  namespace(\"\", {\n    namespace: namespace\n  });\n}).call(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./libs/namespace.js\n ** module id = 50\n ** module chunks = 0 2 3\n **/","// jQuery Context Menu Plugin\r\n//\r\n// Version 1.01\r\n//\r\n// Cory S.N. LaViska\r\n// A Beautiful Site (http://abeautifulsite.net/)\r\n//\r\n// More info: http://abeautifulsite.net/2008/09/jquery-context-menu-plugin/\r\n//\r\n// Terms of Use\r\n//\r\n// This plugin is dual-licensed under the GNU General Public License\r\n//   and the MIT License and is copyright A Beautiful Site, LLC.\r\n//\r\nif(jQuery)( function() {\r\n\t$.extend($.fn, {\r\n\r\n\t\tcontextMenu: function(o, callback) {\r\n\t\t\t// Defaults\r\n\t\t\tif( o.menu == undefined ) return false;\r\n\t\t\tif( o.inSpeed == undefined ) o.inSpeed = 150;\r\n\t\t\tif( o.outSpeed == undefined ) o.outSpeed = 75;\r\n\t\t\t// 0 needs to be -1 for expected results (no fade)\r\n\t\t\tif( o.inSpeed == 0 ) o.inSpeed = -1;\r\n\t\t\tif( o.outSpeed == 0 ) o.outSpeed = -1;\r\n\t\t\t// Loop each context menu\r\n\t\t\t$(this).each( function() {\r\n\t\t\t\tvar el = $(this);\r\n\t\t\t\tvar offset = $(el).offset();\r\n\t\t\t\t// Add contextMenu class\r\n\t\t\t\t$('#' + o.menu).addClass('contextMenu');\r\n\t\t\t\t// Simulate a true right click\r\n\t\t\t\t$(this).mousedown( function(e) {\r\n\t\t\t\t\tvar evt = e;\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t$(this).mouseup( function(e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tvar srcElement = $(this);\r\n\t\t\t\t\t\t$(this).unbind('mouseup');\r\n\t\t\t\t\t\tif( evt.button == 2 ) {\r\n\t\t\t\t\t\t\t// Hide context menus that may be showing\r\n\t\t\t\t\t\t\t$(\".contextMenu\").hide();\r\n\t\t\t\t\t\t\t// Get this context menu\r\n\t\t\t\t\t\t\tvar menu = $('#' + o.menu);\r\n\r\n\t\t\t\t\t\t\tif( $(el).hasClass('disabled') ) return false;\r\n\r\n\t\t\t\t\t\t\t// Detect mouse position\r\n\t\t\t\t\t\t\tvar d = {}, x, y;\r\n\t\t\t\t\t\t\tif( self.innerHeight ) {\r\n\t\t\t\t\t\t\t\td.pageYOffset = self.pageYOffset;\r\n\t\t\t\t\t\t\t\td.pageXOffset = self.pageXOffset;\r\n\t\t\t\t\t\t\t\td.innerHeight = self.innerHeight;\r\n\t\t\t\t\t\t\t\td.innerWidth = self.innerWidth;\r\n\t\t\t\t\t\t\t} else if( document.documentElement &&\r\n\t\t\t\t\t\t\t\tdocument.documentElement.clientHeight ) {\r\n\t\t\t\t\t\t\t\td.pageYOffset = document.documentElement.scrollTop;\r\n\t\t\t\t\t\t\t\td.pageXOffset = document.documentElement.scrollLeft;\r\n\t\t\t\t\t\t\t\td.innerHeight = document.documentElement.clientHeight;\r\n\t\t\t\t\t\t\t\td.innerWidth = document.documentElement.clientWidth;\r\n\t\t\t\t\t\t\t} else if( document.body ) {\r\n\t\t\t\t\t\t\t\td.pageYOffset = document.body.scrollTop;\r\n\t\t\t\t\t\t\t\td.pageXOffset = document.body.scrollLeft;\r\n\t\t\t\t\t\t\t\td.innerHeight = document.body.clientHeight;\r\n\t\t\t\t\t\t\t\td.innerWidth = document.body.clientWidth;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t(e.pageX) ? x = e.pageX : x = e.clientX + d.scrollLeft;\r\n\t\t\t\t\t\t\t(e.pageY) ? y = e.pageY : y = e.clientY + d.scrollTop;\r\n\r\n\t\t\t\t\t\t\t// Show the menu\r\n\t\t\t\t\t\t\t$(document).unbind('click');\r\n\t\t\t\t\t\t\t$(menu).css({ top: y, left: x }).fadeIn(o.inSpeed);\r\n\t\t\t\t\t\t\t// Hover events\r\n\t\t\t\t\t\t\t$(menu).find('A').mouseover( function() {\r\n\t\t\t\t\t\t\t\t$(menu).find('LI.hover').removeClass('hover');\r\n\t\t\t\t\t\t\t\t$(this).parent().addClass('hover');\r\n\t\t\t\t\t\t\t}).mouseout( function() {\r\n\t\t\t\t\t\t\t\t$(menu).find('LI.hover').removeClass('hover');\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t// Keyboard\r\n\t\t\t\t\t\t\t$(document).keypress( function(e) {\r\n\t\t\t\t\t\t\t\tswitch( e.keyCode ) {\r\n\t\t\t\t\t\t\t\t\tcase 38: // up\r\n\t\t\t\t\t\t\t\t\t\tif( $(menu).find('LI.hover').size() == 0 ) {\r\n\t\t\t\t\t\t\t\t\t\t\t$(menu).find('LI:last').addClass('hover');\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t$(menu).find('LI.hover').removeClass('hover').prevAll('LI:not(.disabled)').eq(0).addClass('hover');\r\n\t\t\t\t\t\t\t\t\t\t\tif( $(menu).find('LI.hover').size() == 0 ) $(menu).find('LI:last').addClass('hover');\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase 40: // down\r\n\t\t\t\t\t\t\t\t\t\tif( $(menu).find('LI.hover').size() == 0 ) {\r\n\t\t\t\t\t\t\t\t\t\t\t$(menu).find('LI:first').addClass('hover');\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t$(menu).find('LI.hover').removeClass('hover').nextAll('LI:not(.disabled)').eq(0).addClass('hover');\r\n\t\t\t\t\t\t\t\t\t\t\tif( $(menu).find('LI.hover').size() == 0 ) $(menu).find('LI:first').addClass('hover');\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase 13: // enter\r\n\t\t\t\t\t\t\t\t\t\t$(menu).find('LI.hover A').trigger('click');\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase 27: // esc\r\n\t\t\t\t\t\t\t\t\t\t$(document).trigger('click');\r\n\t\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t// When items are selected\r\n\t\t\t\t\t\t\t$('#' + o.menu).find('A').unbind('click');\r\n\t\t\t\t\t\t\t$('#' + o.menu).find('LI:not(.disabled) A').click( function() {\r\n\t\t\t\t\t\t\t\t$(document).unbind('click').unbind('keypress');\r\n\t\t\t\t\t\t\t\t$(\".contextMenu\").hide();\r\n\t\t\t\t\t\t\t\t// Callback\r\n\t\t\t\t\t\t\t\tif( callback ) callback( $(this).attr('href').substr(1), $(srcElement), {x: x - offset.left, y: y - offset.top, docX: x, docY: y} );\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t// Hide bindings\r\n\t\t\t\t\t\t\tsetTimeout( function() { // Delay for Mozilla\r\n\t\t\t\t\t\t\t\t$(document).click( function() {\r\n\t\t\t\t\t\t\t\t\t$(document).unbind('click').unbind('keypress');\r\n\t\t\t\t\t\t\t\t\t$(menu).fadeOut(o.outSpeed);\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Disable text selection\r\n\t\t\t\t/*if( $.browser.mozilla ) {\r\n\t\t\t\t\t$('#' + o.menu).each( function() { $(this).css({ 'MozUserSelect' : 'none' }); });\r\n\t\t\t\t} else if( $.browser.msie ) {\r\n\t\t\t\t\t$('#' + o.menu).each( function() { $(this).bind('selectstart.disableTextSelect', function() { return false; }); });\r\n\t\t\t\t} else {*/\r\n\t\t\t\t\t$('#' + o.menu).each(function() { $(this).bind('mousedown.disableTextSelect', function() { return false; }); });\r\n\t\t\t\t//}\r\n\t\t\t\t// Disable browser context menu (requires both selectors to work in IE/Safari + FF/Chrome)\r\n\t\t\t\t$(el).add($('UL.contextMenu')).bind('contextmenu', function() { return false; });\r\n\r\n\t\t\t});\r\n\t\t\treturn $(this);\r\n\t\t},\r\n\r\n\t\t// Disable context menu items on the fly\r\n\t\tdisableContextMenuItems: function(o) {\r\n\t\t\tif( o == undefined ) {\r\n\t\t\t\t// Disable all\r\n\t\t\t\t$(this).find('LI').addClass('disabled');\r\n\t\t\t\treturn( $(this) );\r\n\t\t\t}\r\n\t\t\t$(this).each( function() {\r\n\t\t\t\tif( o != undefined ) {\r\n\t\t\t\t\tvar d = o.split(',');\r\n\t\t\t\t\tfor( var i = 0; i < d.length; i++ ) {\r\n\t\t\t\t\t\t$(this).find('A[href=\"' + d[i] + '\"]').parent().addClass('disabled');\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn( $(this) );\r\n\t\t},\r\n\r\n\t\t// Enable context menu items on the fly\r\n\t\tenableContextMenuItems: function(o) {\r\n\t\t\tif( o == undefined ) {\r\n\t\t\t\t// Enable all\r\n\t\t\t\t$(this).find('LI.disabled').removeClass('disabled');\r\n\t\t\t\treturn( $(this) );\r\n\t\t\t}\r\n\t\t\t$(this).each( function() {\r\n\t\t\t\tif( o != undefined ) {\r\n\t\t\t\t\tvar d = o.split(',');\r\n\t\t\t\t\tfor( var i = 0; i < d.length; i++ ) {\r\n\t\t\t\t\t\t$(this).find('A[href=\"' + d[i] + '\"]').parent().removeClass('disabled');\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn( $(this) );\r\n\t\t},\r\n\r\n\t\t// Disable context menu(s)\r\n\t\tdisableContextMenu: function() {\r\n\t\t\t$(this).each( function() {\r\n\t\t\t\t$(this).addClass('disabled');\r\n\t\t\t});\r\n\t\t\treturn( $(this) );\r\n\t\t},\r\n\r\n\t\t// Enable context menu(s)\r\n\t\tenableContextMenu: function() {\r\n\t\t\t$(this).each( function() {\r\n\t\t\t\t$(this).removeClass('disabled');\r\n\t\t\t});\r\n\t\t\treturn( $(this) );\r\n\t\t},\r\n\r\n\t\t// Destroy context menu(s)\r\n\t\tdestroyContextMenu: function() {\r\n\t\t\t// Destroy specified context menus\r\n\t\t\t$(this).each( function() {\r\n\t\t\t\t// Disable action\r\n\t\t\t\t$(this).unbind('mousedown').unbind('mouseup');\r\n\t\t\t});\r\n\t\t\treturn( $(this) );\r\n\t\t}\r\n\r\n\t});\r\n})(jQuery);\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./libs/jquery.contextMenu.js\n ** module id = 51\n ** module chunks = 2 3\n **/","_ = require 'Underscore'\nBackbone = require 'Backbone'\n\nrequire 'jquery.ui'\n\n### Connection View ###\nclass ConnectionView extends Backbone.View\n  initialize: (options) ->\n    super\n    @container = $(\"#graph\")\n    @line = ThreeNodes.UI.UIView.svg.path().attr\n      stroke: \"#555\"\n      fill: \"none\"\n    # set the dom element\n    @el = @line.node\n    @model.bind(\"render\", () => @render())\n    @model.bind(\"destroy\", () => @remove())\n    @render()\n\n  remove: ->\n    if ThreeNodes.UI.UIView.svg && @line\n      @line.remove()\n      delete @line\n    return true\n\n  render: () ->\n    if ThreeNodes.UI.UIView.svg && @line && @line.attrs\n      @line.attr\n        path: @getPath()\n    @\n\n  getFieldPosition: (field) ->\n    if !field.button\n      console.log \"no button\"\n      console.log field\n      return {left: 0, top: 0}\n    o1 = $(\".inner-field span\", field.button).offset()\n    #console.log field.button\n    if !o1\n      console.log \"no o1\"\n      return {left: 0, top: 0}\n    diff = 3\n    o1.top += diff\n    o1.left += diff\n    return o1\n\n  getPath: () ->\n    f1 = @getFieldPosition(@model.from_field)\n    f2 = @getFieldPosition(@model.to_field)\n\n    offset = $(\"#container-wrapper\").offset()\n    ofx = $(\"#container-wrapper\").scrollLeft() - offset.left\n    ofy = $(\"#container-wrapper\").scrollTop() - offset.top\n    x1 = f1.left + ofx\n    y1 = f1.top + ofy\n    x4 = f2.left + ofx\n    y4 = f2.top + ofy\n    min_diff = 42\n    diffx = Math.max(min_diff, x4 - x1)\n    diffy = Math.max(min_diff, y4 - y1)\n\n    x2 = x1 + diffx * 0.5\n    y2 = y1\n    x3 = x4 - diffx * 0.5\n    y3 = y4\n\n    [\"M\", x1.toFixed(3), y1.toFixed(3), \"C\", x2, y2, x3, y3, x4.toFixed(3), y4.toFixed(3)].join(\",\")\n\nmodule.exports = ConnectionView\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/connections/views/ConnectionView.coffee\n **/","_ = require 'Underscore'\nBackbone = require 'Backbone'\n\nclass CodeExporter\n  toCode: (json) =>\n    res = \"//\\n\"\n    res += \"// code exported from ThreeNodes.js (github.com/idflood/ThreeNodes.js)\\n\"\n    res += \"//\\n\\n\"\n    res += \"require.config({paths: {jQuery: 'loaders/jquery-loader',Underscore: 'loaders/Underscore-loader',Backbone: 'loaders/backbone-loader'}});\"\n    res += \"require(['threenodes/App', 'libs/jquery-1.6.4.min', 'libs/Underscore-min', 'libs/backbone'], function(App) {\"\n    res += \"\\n\\n\"\n    res += '\"use strict\";\\n'\n    res += \"var app = new App();\\n\"\n    res += \"var nodes = app.nodes;\\n\\n\"\n    res += \"//\\n\"\n    res += \"// nodes\\n\"\n    res += \"//\\n\"\n\n    for node in json.nodes\n      res += @nodeToCode(node)\n\n    res += \"\\n\"\n    res += \"//\\n\"\n    res += \"// connections\\n\"\n    res += \"//\\n\\n\"\n\n    for connection in json.connections\n      res += @connectionToCode(connection)\n\n    res += \"\\n\\n\"\n    res += \"// set player mode\\n\"\n    res += \"app.setDisplayMode('SetDisplayModeCommand', true);\\n\"\n    res += \"});\"\n    return res\n\n  nodeToCode: (node) =>\n    anim_to_code = (anims) ->\n      res = \"{\\n\"\n      for propName of anims\n        res += \"\\t\\t\" + \"'#{propName}' : [\\n\"\n        for anim in anims[propName]\n          res += \"\\t\\t\\t\" + \"{time: #{anim.time}, value: #{anim.value}, easing: '#{anim.easing}'},\\n\"\n        res += \"\\t\\t\" + \"],\\n\"\n      res += \"\\t}\"\n      return res\n\n    fields_to_code = (fields) ->\n      res = \"{'in': [\\n\"\n      for field in fields.in\n        if field.val\n          res += \"\\t\\t{name: '#{field.name}', val: #{field.val}},\\n\"\n        else\n          res += \"\\t\\t{name: '#{field.name}'},\\n\"\n      res += \"\\t]}\"\n      res\n\n    res = \"\\n// node: #{node.name}\\n\"\n    res += \"var node_#{node.nid}_data = {\\n\"\n    res += \"\\t\" + \"nid: #{node.nid},\\n\"\n    res += \"\\t\" + \"name: '#{node.name}',\\n\"\n    res += \"\\t\" + \"type: '#{node.type}',\\n\"\n    res += \"\\t\" + \"x: #{node.x},\\n\"\n    res += \"\\t\" + \"y: #{node.y},\\n\"\n    res += \"\\t\" + \"fields: #{fields_to_code(node.fields)},\\n\"\n    res += \"\\t\" + \"anim: #{anim_to_code(node.anim)}\\n\"\n    res += \"};\\n\"\n    res += \"var node_#{node.nid} = nodes.createNode(node_#{node.nid}_data);\\n\"\n    return res\n\n  connectionToCode: (connection) ->\n    res = \"var connection_#{connection.id}_data = {\\n\"\n    res += \"\\t\" + \"id: #{connection.id},\\n\"\n    res += \"\\t\" + \"from_node: #{connection.from_node}, from: '#{connection.from}',\\n\"\n    res += \"\\t\" + \"to_node: #{connection.to_node}, to: '#{connection.to}'\\n\"\n    res += \"};\\n\"\n    res += \"var connection_#{connection.id} = nodes.createConnectionFromObject(connection_#{connection.id}_data);\\n\"\n    res\n\nmodule.exports = CodeExporter\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/utils/CodeExporter.coffee\n **/","_ = require 'Underscore'\nBackbone = require 'Backbone'\nFieldButton = require './FieldButton'\n\nrequire 'jquery.ui'\n\n### Fields View ###\nclass FieldsView extends Backbone.View\n  # Save some options in variables and bind events\n  initialize: (options) ->\n    super\n    @node = options.node\n    @subviews = []\n    @collection.on(\"add\", @onFieldCreated)\n\n    # create already existing fields\n    @collection.each(@onFieldCreated)\n\n  # Create the field dom element and add events to it\n  onFieldCreated: (field) =>\n    target = if field.get(\"is_output\") == false then \".inputs\" else \".outputs\"\n    # Don't show input field from subnode if it has an internal connection\n    if field.get(\"is_output\") == false && field.isConnected()\n      connection = field.connections[0]\n      # But we want to display the field if we are editing the Group definition\n      $node = @$el.parent()\n      isInsideAnotherDOMnode = () -> ($node.parent().closest(\".node\").length > 0)\n\n      if isInsideAnotherDOMnode()\n        # if from_field node and to_field node have a gid != -1 and are identical\n        from_gid = connection.from_field.node.get(\"gid\")\n        to_gid = connection.to_field.node.get(\"gid\")\n        if from_gid != \"-1\" && to_gid != \"-1\" && from_gid == to_gid\n          # stop there\n          return\n    view = new FieldButton\n      model: field\n\n    view.$el.appendTo($(target, @$el))\n\n    # Save a reference of the field DOM element for ConnectionView\n    # todo: remove this... but how?\n    field.button = view.$el\n\n    @subviews.push(view)\n\n  # Unbind events, destroy jquery-ui widgets, remove dom elements\n  # and delete variables\n  remove: () =>\n    @undelegateEvents()\n    @collection.off(\"add\", @onFieldCreated)\n\n    # Remove all FieldButton subviews\n    views = @subviews.concat()\n    _.each views, (view) -> view.remove()\n\n    # Remove elements which may have events attached\n    $(\"input\", $(@el)).remove()\n\n    # Delete references\n    delete @collection\n    delete @node\n    delete @subviews\n    super\n\nmodule.exports = FieldsView\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/fields/views/FieldsView.coffee\n **/","/**\n * Provides requestAnimationFrame in a cross browser way.\n * http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n */\n\nif ( !window.requestAnimationFrame ) {\n\n\twindow.requestAnimationFrame = ( function() {\n\n\t\treturn window.webkitRequestAnimationFrame ||\n\t\twindow.mozRequestAnimationFrame ||\n\t\twindow.oRequestAnimationFrame ||\n\t\twindow.msRequestAnimationFrame ||\n\t\tfunction( /* function FrameRequestCallback */ callback, /* DOMElement Element */ element ) {\n\n\t\t\twindow.setTimeout( callback, 1000 / 60 );\n\n\t\t};\n\n\t} )();\n\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./libs/three-extras/js/RequestAnimationFrame.js\n ** module id = 60\n ** module chunks = 3\n **/","/**\r\n *\r\n * Color picker\r\n * Author: Stefan Petre www.eyecon.ro\r\n * \r\n * Dual licensed under the MIT and GPL licenses\r\n * \r\n */\r\n(function ($) {\r\n\tvar ColorPicker = function () {\r\n\t\tvar\r\n\t\t\tids = {},\r\n\t\t\tinAction,\r\n\t\t\tcharMin = 65,\r\n\t\t\tvisible,\r\n\t\t\ttpl = '<div class=\"colorpicker\"><div class=\"colorpicker_color\"><div><div></div></div></div><div class=\"colorpicker_hue\"><div></div></div><div class=\"colorpicker_new_color\"></div><div class=\"colorpicker_current_color\"></div><div class=\"colorpicker_hex\"><input type=\"text\" maxlength=\"6\" size=\"6\" /></div><div class=\"colorpicker_rgb_r colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_rgb_g colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_rgb_b colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_hsb_h colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_hsb_s colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_hsb_b colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_submit\"></div></div>',\r\n\t\t\tdefaults = {\r\n\t\t\t\teventName: 'click',\r\n\t\t\t\tonShow: function () {},\r\n\t\t\t\tonBeforeShow: function(){},\r\n\t\t\t\tonHide: function () {},\r\n\t\t\t\tonChange: function () {},\r\n\t\t\t\tonSubmit: function () {},\r\n\t\t\t\tcolor: 'ff0000',\r\n\t\t\t\tlivePreview: true,\r\n\t\t\t\tflat: false\r\n\t\t\t},\r\n\t\t\tfillRGBFields = function  (hsb, cal) {\r\n\t\t\t\tvar rgb = HSBToRGB(hsb);\r\n\t\t\t\t$(cal).data('colorpicker').fields\r\n\t\t\t\t\t.eq(1).val(rgb.r).end()\r\n\t\t\t\t\t.eq(2).val(rgb.g).end()\r\n\t\t\t\t\t.eq(3).val(rgb.b).end();\r\n\t\t\t},\r\n\t\t\tfillHSBFields = function  (hsb, cal) {\r\n\t\t\t\t$(cal).data('colorpicker').fields\r\n\t\t\t\t\t.eq(4).val(hsb.h).end()\r\n\t\t\t\t\t.eq(5).val(hsb.s).end()\r\n\t\t\t\t\t.eq(6).val(hsb.b).end();\r\n\t\t\t},\r\n\t\t\tfillHexFields = function (hsb, cal) {\r\n\t\t\t\t$(cal).data('colorpicker').fields\r\n\t\t\t\t\t.eq(0).val(HSBToHex(hsb)).end();\r\n\t\t\t},\r\n\t\t\tsetSelector = function (hsb, cal) {\r\n\t\t\t\t$(cal).data('colorpicker').selector.css('backgroundColor', '#' + HSBToHex({h: hsb.h, s: 100, b: 100}));\r\n\t\t\t\t$(cal).data('colorpicker').selectorIndic.css({\r\n\t\t\t\t\tleft: parseInt(150 * hsb.s/100, 10),\r\n\t\t\t\t\ttop: parseInt(150 * (100-hsb.b)/100, 10)\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsetHue = function (hsb, cal) {\r\n\t\t\t\t$(cal).data('colorpicker').hue.css('top', parseInt(150 - 150 * hsb.h/360, 10));\r\n\t\t\t},\r\n\t\t\tsetCurrentColor = function (hsb, cal) {\r\n\t\t\t\t$(cal).data('colorpicker').currentColor.css('backgroundColor', '#' + HSBToHex(hsb));\r\n\t\t\t},\r\n\t\t\tsetNewColor = function (hsb, cal) {\r\n\t\t\t\t$(cal).data('colorpicker').newColor.css('backgroundColor', '#' + HSBToHex(hsb));\r\n\t\t\t},\r\n\t\t\tkeyDown = function (ev) {\r\n\t\t\t\tvar pressedKey = ev.charCode || ev.keyCode || -1;\r\n\t\t\t\tif ((pressedKey > charMin && pressedKey <= 90) || pressedKey == 32) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar cal = $(this).parent().parent();\r\n\t\t\t\tif (cal.data('colorpicker').livePreview === true) {\r\n\t\t\t\t\tchange.apply(this);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tchange = function (ev) {\r\n\t\t\t\tvar cal = $(this).parent().parent(), col;\r\n\t\t\t\tif (this.parentNode.className.indexOf('_hex') > 0) {\r\n\t\t\t\t\tcal.data('colorpicker').color = col = HexToHSB(fixHex(this.value));\r\n\t\t\t\t} else if (this.parentNode.className.indexOf('_hsb') > 0) {\r\n\t\t\t\t\tcal.data('colorpicker').color = col = fixHSB({\r\n\t\t\t\t\t\th: parseInt(cal.data('colorpicker').fields.eq(4).val(), 10),\r\n\t\t\t\t\t\ts: parseInt(cal.data('colorpicker').fields.eq(5).val(), 10),\r\n\t\t\t\t\t\tb: parseInt(cal.data('colorpicker').fields.eq(6).val(), 10)\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcal.data('colorpicker').color = col = RGBToHSB(fixRGB({\r\n\t\t\t\t\t\tr: parseInt(cal.data('colorpicker').fields.eq(1).val(), 10),\r\n\t\t\t\t\t\tg: parseInt(cal.data('colorpicker').fields.eq(2).val(), 10),\r\n\t\t\t\t\t\tb: parseInt(cal.data('colorpicker').fields.eq(3).val(), 10)\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t\tif (ev) {\r\n\t\t\t\t\tfillRGBFields(col, cal.get(0));\r\n\t\t\t\t\tfillHexFields(col, cal.get(0));\r\n\t\t\t\t\tfillHSBFields(col, cal.get(0));\r\n\t\t\t\t}\r\n\t\t\t\tsetSelector(col, cal.get(0));\r\n\t\t\t\tsetHue(col, cal.get(0));\r\n\t\t\t\tsetNewColor(col, cal.get(0));\r\n\t\t\t\tcal.data('colorpicker').onChange.apply(cal, [col, HSBToHex(col), HSBToRGB(col)]);\r\n\t\t\t},\r\n\t\t\tblur = function (ev) {\r\n\t\t\t\tvar cal = $(this).parent().parent();\r\n\t\t\t\tcal.data('colorpicker').fields.parent().removeClass('colorpicker_focus');\r\n\t\t\t},\r\n\t\t\tfocus = function () {\r\n\t\t\t\tcharMin = this.parentNode.className.indexOf('_hex') > 0 ? 70 : 65;\r\n\t\t\t\t$(this).parent().parent().data('colorpicker').fields.parent().removeClass('colorpicker_focus');\r\n\t\t\t\t$(this).parent().addClass('colorpicker_focus');\r\n\t\t\t},\r\n\t\t\tdownIncrement = function (ev) {\r\n\t\t\t\tvar field = $(this).parent().find('input').focus();\r\n\t\t\t\tvar current = {\r\n\t\t\t\t\tel: $(this).parent().addClass('colorpicker_slider'),\r\n\t\t\t\t\tmax: this.parentNode.className.indexOf('_hsb_h') > 0 ? 360 : (this.parentNode.className.indexOf('_hsb') > 0 ? 100 : 255),\r\n\t\t\t\t\ty: ev.pageY,\r\n\t\t\t\t\tfield: field,\r\n\t\t\t\t\tval: parseInt(field.val(), 10),\r\n\t\t\t\t\tpreview: $(this).parent().parent().data('colorpicker').livePreview\t\t\t\t\t\r\n\t\t\t\t};\r\n\t\t\t\t$(document).bind('mouseup', current, upIncrement);\r\n\t\t\t\t$(document).bind('mousemove', current, moveIncrement);\r\n\t\t\t},\r\n\t\t\tmoveIncrement = function (ev) {\r\n\t\t\t\tev.data.field.val(Math.max(0, Math.min(ev.data.max, parseInt(ev.data.val + ev.pageY - ev.data.y, 10))));\r\n\t\t\t\tif (ev.data.preview) {\r\n\t\t\t\t\tchange.apply(ev.data.field.get(0), [true]);\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tupIncrement = function (ev) {\r\n\t\t\t\tchange.apply(ev.data.field.get(0), [true]);\r\n\t\t\t\tev.data.el.removeClass('colorpicker_slider').find('input').focus();\r\n\t\t\t\t$(document).unbind('mouseup', upIncrement);\r\n\t\t\t\t$(document).unbind('mousemove', moveIncrement);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tdownHue = function (ev) {\r\n\t\t\t\tvar current = {\r\n\t\t\t\t\tcal: $(this).parent(),\r\n\t\t\t\t\ty: $(this).offset().top\r\n\t\t\t\t};\r\n\t\t\t\tcurrent.preview = current.cal.data('colorpicker').livePreview;\r\n\t\t\t\t$(document).bind('mouseup', current, upHue);\r\n\t\t\t\t$(document).bind('mousemove', current, moveHue);\r\n\t\t\t},\r\n\t\t\tmoveHue = function (ev) {\r\n\t\t\t\tchange.apply(\r\n\t\t\t\t\tev.data.cal.data('colorpicker')\r\n\t\t\t\t\t\t.fields\r\n\t\t\t\t\t\t.eq(4)\r\n\t\t\t\t\t\t.val(parseInt(360*(150 - Math.max(0,Math.min(150,(ev.pageY - ev.data.y))))/150, 10))\r\n\t\t\t\t\t\t.get(0),\r\n\t\t\t\t\t[ev.data.preview]\r\n\t\t\t\t);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tupHue = function (ev) {\r\n\t\t\t\tfillRGBFields(ev.data.cal.data('colorpicker').color, ev.data.cal.get(0));\r\n\t\t\t\tfillHexFields(ev.data.cal.data('colorpicker').color, ev.data.cal.get(0));\r\n\t\t\t\t$(document).unbind('mouseup', upHue);\r\n\t\t\t\t$(document).unbind('mousemove', moveHue);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tdownSelector = function (ev) {\r\n\t\t\t\tvar current = {\r\n\t\t\t\t\tcal: $(this).parent(),\r\n\t\t\t\t\tpos: $(this).offset()\r\n\t\t\t\t};\r\n\t\t\t\tcurrent.preview = current.cal.data('colorpicker').livePreview;\r\n\t\t\t\t$(document).bind('mouseup', current, upSelector);\r\n\t\t\t\t$(document).bind('mousemove', current, moveSelector);\r\n\t\t\t},\r\n\t\t\tmoveSelector = function (ev) {\r\n\t\t\t\tchange.apply(\r\n\t\t\t\t\tev.data.cal.data('colorpicker')\r\n\t\t\t\t\t\t.fields\r\n\t\t\t\t\t\t.eq(6)\r\n\t\t\t\t\t\t.val(parseInt(100*(150 - Math.max(0,Math.min(150,(ev.pageY - ev.data.pos.top))))/150, 10))\r\n\t\t\t\t\t\t.end()\r\n\t\t\t\t\t\t.eq(5)\r\n\t\t\t\t\t\t.val(parseInt(100*(Math.max(0,Math.min(150,(ev.pageX - ev.data.pos.left))))/150, 10))\r\n\t\t\t\t\t\t.get(0),\r\n\t\t\t\t\t[ev.data.preview]\r\n\t\t\t\t);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tupSelector = function (ev) {\r\n\t\t\t\tfillRGBFields(ev.data.cal.data('colorpicker').color, ev.data.cal.get(0));\r\n\t\t\t\tfillHexFields(ev.data.cal.data('colorpicker').color, ev.data.cal.get(0));\r\n\t\t\t\t$(document).unbind('mouseup', upSelector);\r\n\t\t\t\t$(document).unbind('mousemove', moveSelector);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tenterSubmit = function (ev) {\r\n\t\t\t\t$(this).addClass('colorpicker_focus');\r\n\t\t\t},\r\n\t\t\tleaveSubmit = function (ev) {\r\n\t\t\t\t$(this).removeClass('colorpicker_focus');\r\n\t\t\t},\r\n\t\t\tclickSubmit = function (ev) {\r\n\t\t\t\tvar cal = $(this).parent();\r\n\t\t\t\tvar col = cal.data('colorpicker').color;\r\n\t\t\t\tcal.data('colorpicker').origColor = col;\r\n\t\t\t\tsetCurrentColor(col, cal.get(0));\r\n\t\t\t\tcal.data('colorpicker').onSubmit(col, HSBToHex(col), HSBToRGB(col), cal.data('colorpicker').el);\r\n\t\t\t},\r\n\t\t\tshow = function (ev) {\r\n\t\t\t\tvar cal = $('#' + $(this).data('colorpickerId'));\r\n\t\t\t\tcal.data('colorpicker').onBeforeShow.apply(this, [cal.get(0)]);\r\n\t\t\t\tvar pos = $(this).offset();\r\n\t\t\t\tvar viewPort = getViewport();\r\n\t\t\t\tvar top = pos.top + this.offsetHeight;\r\n\t\t\t\tvar left = pos.left;\r\n\t\t\t\tif (top + 176 > viewPort.t + viewPort.h) {\r\n\t\t\t\t\ttop -= this.offsetHeight + 176;\r\n\t\t\t\t}\r\n\t\t\t\tif (left + 356 > viewPort.l + viewPort.w) {\r\n\t\t\t\t\tleft -= 356;\r\n\t\t\t\t}\r\n\t\t\t\tcal.css({left: left + 'px', top: top + 'px'});\r\n\t\t\t\tif (cal.data('colorpicker').onShow.apply(this, [cal.get(0)]) != false) {\r\n\t\t\t\t\tcal.show();\r\n\t\t\t\t}\r\n\t\t\t\t$(document).bind('mousedown', {cal: cal}, hide);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\thide = function (ev) {\r\n\t\t\t\tif (!isChildOf(ev.data.cal.get(0), ev.target, ev.data.cal.get(0))) {\r\n\t\t\t\t\tif (ev.data.cal.data('colorpicker').onHide.apply(this, [ev.data.cal.get(0)]) != false) {\r\n\t\t\t\t\t\tev.data.cal.hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$(document).unbind('mousedown', hide);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tisChildOf = function(parentEl, el, container) {\r\n\t\t\t\tif (parentEl == el) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\tif (parentEl.contains) {\r\n\t\t\t\t\treturn parentEl.contains(el);\r\n\t\t\t\t}\r\n\t\t\t\tif ( parentEl.compareDocumentPosition ) {\r\n\t\t\t\t\treturn !!(parentEl.compareDocumentPosition(el) & 16);\r\n\t\t\t\t}\r\n\t\t\t\tvar prEl = el.parentNode;\r\n\t\t\t\twhile(prEl && prEl != container) {\r\n\t\t\t\t\tif (prEl == parentEl)\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\tprEl = prEl.parentNode;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tgetViewport = function () {\r\n\t\t\t\tvar m = document.compatMode == 'CSS1Compat';\r\n\t\t\t\treturn {\r\n\t\t\t\t\tl : window.pageXOffset || (m ? document.documentElement.scrollLeft : document.body.scrollLeft),\r\n\t\t\t\t\tt : window.pageYOffset || (m ? document.documentElement.scrollTop : document.body.scrollTop),\r\n\t\t\t\t\tw : window.innerWidth || (m ? document.documentElement.clientWidth : document.body.clientWidth),\r\n\t\t\t\t\th : window.innerHeight || (m ? document.documentElement.clientHeight : document.body.clientHeight)\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tfixHSB = function (hsb) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\th: Math.min(360, Math.max(0, hsb.h)),\r\n\t\t\t\t\ts: Math.min(100, Math.max(0, hsb.s)),\r\n\t\t\t\t\tb: Math.min(100, Math.max(0, hsb.b))\r\n\t\t\t\t};\r\n\t\t\t}, \r\n\t\t\tfixRGB = function (rgb) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tr: Math.min(255, Math.max(0, rgb.r)),\r\n\t\t\t\t\tg: Math.min(255, Math.max(0, rgb.g)),\r\n\t\t\t\t\tb: Math.min(255, Math.max(0, rgb.b))\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tfixHex = function (hex) {\r\n\t\t\t\tvar len = 6 - hex.length;\r\n\t\t\t\tif (len > 0) {\r\n\t\t\t\t\tvar o = [];\r\n\t\t\t\t\tfor (var i=0; i<len; i++) {\r\n\t\t\t\t\t\to.push('0');\r\n\t\t\t\t\t}\r\n\t\t\t\t\to.push(hex);\r\n\t\t\t\t\thex = o.join('');\r\n\t\t\t\t}\r\n\t\t\t\treturn hex;\r\n\t\t\t}, \r\n\t\t\tHexToRGB = function (hex) {\r\n\t\t\t\tvar hex = parseInt(((hex.indexOf('#') > -1) ? hex.substring(1) : hex), 16);\r\n\t\t\t\treturn {r: hex >> 16, g: (hex & 0x00FF00) >> 8, b: (hex & 0x0000FF)};\r\n\t\t\t},\r\n\t\t\tHexToHSB = function (hex) {\r\n\t\t\t\treturn RGBToHSB(HexToRGB(hex));\r\n\t\t\t},\r\n\t\t\tRGBToHSB = function (rgb) {\r\n\t\t\t\tvar hsb = {\r\n\t\t\t\t\th: 0,\r\n\t\t\t\t\ts: 0,\r\n\t\t\t\t\tb: 0\r\n\t\t\t\t};\r\n\t\t\t\tvar min = Math.min(rgb.r, rgb.g, rgb.b);\r\n\t\t\t\tvar max = Math.max(rgb.r, rgb.g, rgb.b);\r\n\t\t\t\tvar delta = max - min;\r\n\t\t\t\thsb.b = max;\r\n\t\t\t\tif (max != 0) {\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\thsb.s = max != 0 ? 255 * delta / max : 0;\r\n\t\t\t\tif (hsb.s != 0) {\r\n\t\t\t\t\tif (rgb.r == max) {\r\n\t\t\t\t\t\thsb.h = (rgb.g - rgb.b) / delta;\r\n\t\t\t\t\t} else if (rgb.g == max) {\r\n\t\t\t\t\t\thsb.h = 2 + (rgb.b - rgb.r) / delta;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\thsb.h = 4 + (rgb.r - rgb.g) / delta;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\thsb.h = -1;\r\n\t\t\t\t}\r\n\t\t\t\thsb.h *= 60;\r\n\t\t\t\tif (hsb.h < 0) {\r\n\t\t\t\t\thsb.h += 360;\r\n\t\t\t\t}\r\n\t\t\t\thsb.s *= 100/255;\r\n\t\t\t\thsb.b *= 100/255;\r\n\t\t\t\treturn hsb;\r\n\t\t\t},\r\n\t\t\tHSBToRGB = function (hsb) {\r\n\t\t\t\tvar rgb = {};\r\n\t\t\t\tvar h = Math.round(hsb.h);\r\n\t\t\t\tvar s = Math.round(hsb.s*255/100);\r\n\t\t\t\tvar v = Math.round(hsb.b*255/100);\r\n\t\t\t\tif(s == 0) {\r\n\t\t\t\t\trgb.r = rgb.g = rgb.b = v;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar t1 = v;\r\n\t\t\t\t\tvar t2 = (255-s)*v/255;\r\n\t\t\t\t\tvar t3 = (t1-t2)*(h%60)/60;\r\n\t\t\t\t\tif(h==360) h = 0;\r\n\t\t\t\t\tif(h<60) {rgb.r=t1;\trgb.b=t2; rgb.g=t2+t3}\r\n\t\t\t\t\telse if(h<120) {rgb.g=t1; rgb.b=t2;\trgb.r=t1-t3}\r\n\t\t\t\t\telse if(h<180) {rgb.g=t1; rgb.r=t2;\trgb.b=t2+t3}\r\n\t\t\t\t\telse if(h<240) {rgb.b=t1; rgb.r=t2;\trgb.g=t1-t3}\r\n\t\t\t\t\telse if(h<300) {rgb.b=t1; rgb.g=t2;\trgb.r=t2+t3}\r\n\t\t\t\t\telse if(h<360) {rgb.r=t1; rgb.g=t2;\trgb.b=t1-t3}\r\n\t\t\t\t\telse {rgb.r=0; rgb.g=0;\trgb.b=0}\r\n\t\t\t\t}\r\n\t\t\t\treturn {r:Math.round(rgb.r), g:Math.round(rgb.g), b:Math.round(rgb.b)};\r\n\t\t\t},\r\n\t\t\tRGBToHex = function (rgb) {\r\n\t\t\t\tvar hex = [\r\n\t\t\t\t\trgb.r.toString(16),\r\n\t\t\t\t\trgb.g.toString(16),\r\n\t\t\t\t\trgb.b.toString(16)\r\n\t\t\t\t];\r\n\t\t\t\t$.each(hex, function (nr, val) {\r\n\t\t\t\t\tif (val.length == 1) {\r\n\t\t\t\t\t\thex[nr] = '0' + val;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn hex.join('');\r\n\t\t\t},\r\n\t\t\tHSBToHex = function (hsb) {\r\n\t\t\t\treturn RGBToHex(HSBToRGB(hsb));\r\n\t\t\t},\r\n\t\t\trestoreOriginal = function () {\r\n\t\t\t\tvar cal = $(this).parent();\r\n\t\t\t\tvar col = cal.data('colorpicker').origColor;\r\n\t\t\t\tcal.data('colorpicker').color = col;\r\n\t\t\t\tfillRGBFields(col, cal.get(0));\r\n\t\t\t\tfillHexFields(col, cal.get(0));\r\n\t\t\t\tfillHSBFields(col, cal.get(0));\r\n\t\t\t\tsetSelector(col, cal.get(0));\r\n\t\t\t\tsetHue(col, cal.get(0));\r\n\t\t\t\tsetNewColor(col, cal.get(0));\r\n\t\t\t};\r\n\t\treturn {\r\n\t\t\tinit: function (opt) {\r\n\t\t\t\topt = $.extend({}, defaults, opt||{});\r\n\t\t\t\tif (typeof opt.color == 'string') {\r\n\t\t\t\t\topt.color = HexToHSB(opt.color);\r\n\t\t\t\t} else if (opt.color.r != undefined && opt.color.g != undefined && opt.color.b != undefined) {\r\n\t\t\t\t\topt.color = RGBToHSB(opt.color);\r\n\t\t\t\t} else if (opt.color.h != undefined && opt.color.s != undefined && opt.color.b != undefined) {\r\n\t\t\t\t\topt.color = fixHSB(opt.color);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.each(function () {\r\n\t\t\t\t\tif (!$(this).data('colorpickerId')) {\r\n\t\t\t\t\t\tvar options = $.extend({}, opt);\r\n\t\t\t\t\t\toptions.origColor = opt.color;\r\n\t\t\t\t\t\tvar id = 'collorpicker_' + parseInt(Math.random() * 1000);\r\n\t\t\t\t\t\t$(this).data('colorpickerId', id);\r\n\t\t\t\t\t\tvar cal = $(tpl).attr('id', id);\r\n\t\t\t\t\t\tif (options.flat) {\r\n\t\t\t\t\t\t\tcal.appendTo(this).show();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcal.appendTo(document.body);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toptions.fields = cal\r\n\t\t\t\t\t\t\t\t\t\t\t.find('input')\r\n\t\t\t\t\t\t\t\t\t\t\t\t.bind('keyup', keyDown)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.bind('change', change)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.bind('blur', blur)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.bind('focus', focus);\r\n\t\t\t\t\t\tcal\r\n\t\t\t\t\t\t\t.find('span').bind('mousedown', downIncrement).end()\r\n\t\t\t\t\t\t\t.find('>div.colorpicker_current_color').bind('click', restoreOriginal);\r\n\t\t\t\t\t\toptions.selector = cal.find('div.colorpicker_color').bind('mousedown', downSelector);\r\n\t\t\t\t\t\toptions.selectorIndic = options.selector.find('div div');\r\n\t\t\t\t\t\toptions.el = this;\r\n\t\t\t\t\t\toptions.hue = cal.find('div.colorpicker_hue div');\r\n\t\t\t\t\t\tcal.find('div.colorpicker_hue').bind('mousedown', downHue);\r\n\t\t\t\t\t\toptions.newColor = cal.find('div.colorpicker_new_color');\r\n\t\t\t\t\t\toptions.currentColor = cal.find('div.colorpicker_current_color');\r\n\t\t\t\t\t\tcal.data('colorpicker', options);\r\n\t\t\t\t\t\tcal.find('div.colorpicker_submit')\r\n\t\t\t\t\t\t\t.bind('mouseenter', enterSubmit)\r\n\t\t\t\t\t\t\t.bind('mouseleave', leaveSubmit)\r\n\t\t\t\t\t\t\t.bind('click', clickSubmit);\r\n\t\t\t\t\t\tfillRGBFields(options.color, cal.get(0));\r\n\t\t\t\t\t\tfillHSBFields(options.color, cal.get(0));\r\n\t\t\t\t\t\tfillHexFields(options.color, cal.get(0));\r\n\t\t\t\t\t\tsetHue(options.color, cal.get(0));\r\n\t\t\t\t\t\tsetSelector(options.color, cal.get(0));\r\n\t\t\t\t\t\tsetCurrentColor(options.color, cal.get(0));\r\n\t\t\t\t\t\tsetNewColor(options.color, cal.get(0));\r\n\t\t\t\t\t\tconsole.log(options);\r\n\t\t\t\t\t\tif (options.flat) {\r\n\t\t\t\t\t\t\tcal.css({\r\n\t\t\t\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\t\t\t\tdisplay: 'block'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(this).bind(options.eventName, show);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tshowPicker: function() {\r\n\t\t\t\treturn this.each( function () {\r\n\t\t\t\t\tif ($(this).data('colorpickerId')) {\r\n\t\t\t\t\t\tshow.apply(this);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thidePicker: function() {\r\n\t\t\t\treturn this.each( function () {\r\n\t\t\t\t\tif ($(this).data('colorpickerId')) {\r\n\t\t\t\t\t\t$('#' + $(this).data('colorpickerId')).hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsetColor: function(col) {\r\n\t\t\t\tif (typeof col == 'string') {\r\n\t\t\t\t\tcol = HexToHSB(col);\r\n\t\t\t\t} else if (col.r != undefined && col.g != undefined && col.b != undefined) {\r\n\t\t\t\t\tcol = RGBToHSB(col);\r\n\t\t\t\t} else if (col.h != undefined && col.s != undefined && col.b != undefined) {\r\n\t\t\t\t\tcol = fixHSB(col);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.each(function(){\r\n\t\t\t\t\tif ($(this).data('colorpickerId')) {\r\n\t\t\t\t\t\tvar cal = $('#' + $(this).data('colorpickerId'));\r\n\t\t\t\t\t\tcal.data('colorpicker').color = col;\r\n\t\t\t\t\t\tcal.data('colorpicker').origColor = col;\r\n\t\t\t\t\t\tfillRGBFields(col, cal.get(0));\r\n\t\t\t\t\t\tfillHSBFields(col, cal.get(0));\r\n\t\t\t\t\t\tfillHexFields(col, cal.get(0));\r\n\t\t\t\t\t\tsetHue(col, cal.get(0));\r\n\t\t\t\t\t\tsetSelector(col, cal.get(0));\r\n\t\t\t\t\t\tsetCurrentColor(col, cal.get(0));\r\n\t\t\t\t\t\tsetNewColor(col, cal.get(0));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t}();\r\n\t$.fn.extend({\r\n\t\tColorPicker: ColorPicker.init,\r\n\t\tColorPickerHide: ColorPicker.hidePicker,\r\n\t\tColorPickerShow: ColorPicker.showPicker,\r\n\t\tColorPickerSetColor: ColorPicker.setColor\r\n\t});\r\n})(jQuery)\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./libs/colorpicker/js/colorpicker.js\n ** module id = 71\n ** module chunks = 2 3\n **/","module.exports = \"<div class='head'><span><%= get(\\\"name\\\") %></span></div>\\n<div class='options'>\\n  <div class='inputs'></div>\\n  <div class='center'></div>\\n  <div class='outputs'></div>\\n</div>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./threenodes/nodes/templates/node.tmpl.html\n ** module id = 73\n ** module chunks = 2 3\n **/","module.exports = \"<ul id=\\\"node-context-menu\\\" class=\\\"context-menu\\\">\\n  <li><a href=\\\"#remove_node\\\">Remove node</a></li>\\n</ul>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./threenodes/nodes/templates/node_context_menu.tmpl.html\n ** module id = 74\n ** module chunks = 2 3\n **/","module.exports = \"<div id='container-wrapper' class=\\\"ui-layout-center\\\">\\n  <div id='container'>\\n    <div id='graph'></div>\\n  </div>\\n  <div id=\\\"breadcrumb\\\"></div>\\n</div>\\n<div id='sidebar' class=\\\"ui-layout-west\\\">\\n  <ul class=\\\"ui-layout-north\\\">\\n    <li><a href='#tab-new'>New</a></li>\\n    <li><a href='#tab-attribute'>Attributes</a></li>\\n    <li><a href='#tab-list'>List</a></li>\\n  </ul>\\n  <div class=\\\"container ui-layout-center\\\">\\n    <div id='tab-attribute'></div>\\n    <div id='tab-new'>\\n      <input id='node_filter' name='search-node' placeholder='Search' type='input' />\\n    </div>\\n    <div id='tab-list'></div>\\n  </div>\\n</div>\\n<div id=\\\"library\\\" class=\\\"ui-layout-east\\\"></div>\\n<div id=\\\"timeline\\\" class=\\\"ui-layout-south\\\"></div>\\n<input id='main_file_input_open' multiple='false' type='file' />\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./templates/app_ui.tmpl.html\n ** module id = 75\n ** module chunks = 3\n **/","module.exports = \"<div class='definition definition-<%= get(\\\"name\\\") %>'>\\n  <div class='head'><span><%= get(\\\"name\\\") %></span></div>\\n  <div class='options'>\\n    <a href='#' class='edit'>edit</a>\\n    <a href='#' class='remove'>remove</a>\\n  </div>\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./templates/definition.tmpl.html\n ** module id = 76\n ** module chunks = 3\n **/","module.exports = \"<div id=\\\"confirm-groupdefinition-delete\\\" title=\\\"This will remove any existing group node using this group definition\\\">\\n  <p class=\\\"found-items\\\"></p>\\n  <p>Are you sure?</p>\\n</div>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./templates/confirm_group_delete.tmpl.html\n ** module id = 77\n ** module chunks = 3\n **/","_ = require 'Underscore'\nBackbone = require 'Backbone'\n\nrequire '../models/Field'\n\n### Fields Collection ###\n\nclass Fields extends Backbone.Collection\n  initialize: (models, options) =>\n    super\n    @node = options.node\n    @indexer = options.indexer\n    @inputs = {}\n    @outputs = {}\n    @special_elements = {left: [], center: [], right: []}\n\n    @addFields(@node.getFields())\n\n  # Remove connections, fields and delete variables\n  destroy: () =>\n    @removeConnections()\n    while @models.length > 0\n      @models[0].remove()\n    delete @node\n    delete @inputs\n    delete @outputs\n    delete @indexer\n    delete @special_elements\n\n  # Load saved fields values\n  load: (data) =>\n    if !data || !data.in\n      return false\n\n    for f in data.in\n      if !f.nid\n        # Simple node field\n        node_field = @inputs[f.name]\n      else\n        # Group node field\n        node_field = @inputs[f.name + \"-\" + f.nid]\n      if node_field then node_field.load(f.val)\n    true\n\n  toJSON: =>\n    data =\n      in: jQuery.map(@inputs, (f, i) -> f.toJSON())\n      out: jQuery.map(@outputs, (f, i) -> f.toJSON())\n    return data\n\n  getField: (key, is_out = false) =>\n    target = if is_out == true then \"outputs\" else \"inputs\"\n    return @[target][key]\n\n  setField: (key, value) =>\n    if @outputs[key]\n      @outputs[key].setValue(value)\n\n  getMaxInputSliceCount: () =>\n    result = 1\n    for fname, f of @inputs\n      val = f.attributes.value\n      if val && $.type(val) == \"array\"\n        if val.length > result\n          result = val.length\n    # start with 0\n    return result - 1\n\n  getUpstreamNodes: () =>\n    res = []\n    for fname, f of @inputs\n      for c in f.connections\n        res[res.length] = c.from_field.node\n    res\n\n  getDownstreamNodes: () =>\n    res = []\n    for fname, f in @outputs\n      f = @inputs[fname]\n      for c in f.connections\n        res[res.length] = c.to_field.node\n    res\n\n  hasUnconnectedInputs: () =>\n    for fname, f of @inputs\n      if f.connections.length == 0\n        return true\n    return false\n\n  hasUnconnectedOutputs: () =>\n    for fname, f of @outputs\n      if f.connections.length == 0\n        return true\n    return false\n\n  hasUnconnectedFields: () =>\n    return hasUnconnectedInputs() || hasUnconnectedOutputs()\n\n  setFieldInputUnchanged: () =>\n    for fname in @inputs\n      f = @inputs[fname]\n      f.changed = false\n\n  renderConnections: =>\n    @invoke \"renderConnections\"\n\n  removeConnections: =>\n    @invoke \"removeConnections\"\n\n\n  addField: (name, value, direction = \"inputs\") =>\n    f = false\n    field_is_out = (direction != \"inputs\")\n    if $.type(value) != \"object\"\n      value = @getFieldValueObject(value)\n    if !value.propagateDirty?\n      value.propagateDirty = true\n\n    field = new ThreeNodes.Core.fields.models[value.type]\n      name: name\n      value: value.val\n      possibilities: value.values\n      node: @node\n      is_output: field_is_out\n      default: value.default\n      subfield: value.subfield\n      indexer: @indexer\n      propagateDirty: value.propagateDirty\n\n    target = if field.get(\"is_output\") == false then \"inputs\" else \"outputs\"\n    field_index = field.get(\"name\")\n    if field.subfield\n      # In group nodes we want to have a unique field index\n      field_index += \"-\" + field.subfield.node.get(\"nid\")\n    @[target][field_index] = field\n    @add(field)\n    field\n\n  addFields: (fields_array) =>\n    for dir of fields_array\n      # dir = inputs / outputs\n      for fname of fields_array[dir]\n        value = fields_array[dir][fname]\n        @addField(fname, value, dir)\n    @\n\n  renderSidebar: () =>\n    @trigger(\"renderSidebar\")\n    @\n\n  getFieldValueObject: (default_value) ->\n    ftype = switch $.type(default_value)\n      when \"number\" then \"Float\"\n      when \"boolean\" then \"Bool\"\n      else \"String\"\n    res =\n      type: ftype\n      val: default_value\n    return res\n\nmodule.exports = Fields\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/fields/collections/Fields.coffee\n **/","module.exports = \"<ul id=\\\"main-menu-bar\\\" class=\\\"menubar ui-layout-north\\\">\\n  <li>\\n    <a href=\\\"#File\\\">File</a>\\n    <ul>\\n      <li><a href=\\\"#NewFile\\\" data-event=\\\"ClearWorkspace\\\">New</a></li>\\n      <li><a href=\\\"#OpenFile\\\" data-event=\\\"OpenFile\\\">Open</a></li>\\n      <li><a href=\\\"#SaveFile\\\" data-event=\\\"SaveFile\\\">Save</a></li>\\n      <li><a href=\\\"#ExportCode\\\" data-event=\\\"ExportCode\\\">Export to code</a></li>\\n      <li><a href=\\\"#ExportImage\\\" data-event=\\\"ExportImage\\\" data-eventData=\\\"exported-image.png\\\">Export image</a></li>\\n    </ul>\\n  </li>\\n  <li>\\n    <a href=\\\"#Edit\\\">Edit</a>\\n    <ul>\\n      <li><a href=\\\"#GroupSelectedNodes\\\" data-event=\\\"GroupSelectedNodes\\\">Group selected nodes</a></li>\\n      <li><a href=\\\"#RemoveSelectedNodes\\\" data-event=\\\"RemoveSelectedNodes\\\">Remove selected node(s)</a></li>\\n      <li><a href=\\\"#RebuildAllShaders\\\" data-event=\\\"RebuildAllShaders\\\">Rebuild all shaders</a></li>\\n    </ul>\\n  </li>\\n  <li>\\n    <a href=\\\"#View\\\">View</a>\\n    <ul>\\n      <li><a href=\\\"#Attributes\\\" data-event=\\\"ToggleAttributes\\\">Attributes</a></li>\\n      <li><a href=\\\"#Library\\\" data-event=\\\"ToggleLibrary\\\">Library</a></li>\\n      <li><a href=\\\"#Timeline\\\" data-event=\\\"ToggleTimeline\\\">Timeline</a></li>\\n    </ul>\\n  </li>\\n  <li class=\\\"expanded\\\">\\n    <a href=\\\"#examples\\\">Examples</a>\\n    <ul>\\n      <li><a href=\\\"#example/rotating_cube1.json\\\">Simple cube</a></li>\\n      <li><a href=\\\"#example/geometry_and_material1.json\\\">Geometry & materials</a></li>\\n      <li><a href=\\\"#example/postprocessing1.json\\\">Postprocessing</a></li>\\n      <li><a href=\\\"#example/particle1.json\\\">Particles</a></li>\\n      <li><a href=\\\"#example/particle2.json\\\">Sparks particle and Mouse</a></li>\\n      <li><a href=\\\"#example/spreads1.json\\\">Spreads</a></li>\\n      <li><a href=\\\"#example/texture1.json\\\">Texture</a></li>\\n      <li><a href=\\\"#example/text1.json\\\">Text</a></li>\\n      <li><a href=\\\"#example/collada1.json\\\">Collada model</a></li>\\n      <li><a href=\\\"#example/sound1.json\\\">Sound input</a></li>\\n    </ul>\\n  </li>\\n  <li class=\\\"expanded\\\">\\n    <a href=\\\"#about\\\">About</a>\\n    <ul>\\n      <li><a href=\\\"https://github.com/idflood/ThreeNodes.js\\\" target=\\\"_blank\\\">Github page</a></li>\\n    </ul>\\n  </li>\\n</ul>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./templates/app_menubar.tmpl.html\n ** module id = 85\n ** module chunks = 3\n **/","/*!\n * jQuery UI Menubar @VERSION\n * http://jqueryui.com\n *\n * Copyright 2013 jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/menubar/\n *\n * Depends:\n *  jquery.ui.core.js\n *  jquery.ui.widget.js\n *  jquery.ui.position.js\n *  jquery.ui.menu.js\n */\n(function( $ ) {\n\n$.widget( \"ui.menubar\", {\n  version: \"@VERSION\",\n  options: {\n    items: \"li\",\n    menus: \"ul\",\n    icons: {\n      dropdown: \"ui-icon-triangle-1-s\"\n    },\n    position: {\n      my: \"left top\",\n      at: \"left bottom\"\n    },\n\n    // callbacks\n    select: null\n  },\n\n  _create: function() {\n    // Top-level elements containing the submenu-triggering elem\n    this.menuItems = this.element.children( this.options.items );\n\n    // Links or buttons in menuItems, triggers of the submenus\n    this.items = this.menuItems.children( \"button, a\" );\n\n    // Keep track of open submenus\n    this.openSubmenus = 0;\n\n    this._initializeWidget();\n    this._initializeMenuItems();\n    this._initializeItems();\n  },\n\n  _initializeWidget: function() {\n    this.element\n      .addClass( \"ui-menubar ui-widget-header ui-helper-clearfix\" )\n      .attr( \"role\", \"menubar\" );\n    this._on({\n      keydown: function( event ) {\n        var active;\n\n        // If we are in a nested sub-sub-menu and we see an ESCAPE\n        // we must close recursively.\n        if ( event.keyCode === $.ui.keyCode.ESCAPE &&\n            this.active &&\n            this.active.menu( \"collapse\", event ) !== true ) {\n          active = this.active;\n          this.active.blur();\n          this._close( event );\n          $( event.target ).blur().mouseleave();\n          active.prev().focus();\n        }\n      },\n      focusin: function() {\n        clearTimeout( this.closeTimer );\n      },\n      focusout: function( event ) {\n        this.closeTimer = this._delay( function() {\n          this._close( event );\n          this.items.attr( \"tabIndex\", -1 );\n          this.lastFocused.attr( \"tabIndex\", 0 );\n        }, 150 );\n      },\n      \"mouseenter .ui-menubar-item\": function() {\n        clearTimeout( this.closeTimer );\n      }\n    } );\n  },\n\n  _initializeMenuItems: function() {\n    var subMenus,\n      menubar = this;\n\n    this.menuItems\n      .addClass( \"ui-menubar-item\" )\n      .attr( \"role\", \"presentation\" )\n      // TODO why do these not work when moved to CSS?\n      .css({\n        \"border-width\": \"1px\",\n        \"border-style\": \"hidden\"\n      });\n\n    subMenus = this.menuItems.children( menubar.options.menus ).menu({\n      position: {\n        within: this.options.position.within\n      },\n      select: function( event, ui ) {\n        // TODO don't hardcode markup selectors\n        ui.item.parents( \"ul.ui-menu:last\" ).hide();\n        menubar._close();\n        ui.item.parents( \".ui-menubar-item\" ).children().first().focus();\n        menubar._trigger( \"select\", event, ui );\n      },\n      menus: this.options.menus\n    })\n      .hide()\n      .attr({\n        \"aria-hidden\": \"true\",\n        \"aria-expanded\": \"false\"\n      });\n\n    this._on( subMenus, {\n      keydown: function( event ) {\n        // TODO why is this needed?\n        $( event.target ).attr( \"tabIndex\", 0 );\n        var parentButton,\n          menu = $( this );\n        // TODO why are there keydown events on a hidden menu?\n        if ( menu.is( \":hidden\" ) ) {\n          return;\n        }\n        switch ( event.keyCode ) {\n        case $.ui.keyCode.LEFT:\n          // TODO why can't this call menubar.previous()?\n          parentButton = menubar.active.prev( \".ui-button\" );\n\n          if ( this.openSubmenus ) {\n            this.openSubmenus--;\n          } else if ( this._hasSubMenu( parentButton.parent().prev() ) ) {\n            menubar.active.blur();\n            menubar._open( event, parentButton.parent().prev().find( \".ui-menu\" ) );\n          } else {\n            parentButton.parent().prev().find( \".ui-button\" ).focus();\n            menubar._close( event );\n            this.open = true;\n          }\n\n          event.preventDefault();\n          // TODO same as above where it's set to 0\n          $( event.target ).attr( \"tabIndex\", -1 );\n          break;\n        case $.ui.keyCode.RIGHT:\n          this.next( event );\n          event.preventDefault();\n          break;\n        }\n      },\n      focusout: function( event ) {\n        // TODO why does this have to use event.target? Is that different from currentTarget?\n        $( event.target ).removeClass( \"ui-state-focus\" );\n      }\n    });\n\n    this.menuItems.each(function( index, menuItem ) {\n      menubar._identifyMenuItemsNeighbors( $( menuItem ), menubar, index );\n    });\n\n  },\n\n  _hasSubMenu: function( menuItem ) {\n    return $( menuItem ).children( this.options.menus ).length > 0;\n  },\n\n  // TODO get rid of these - currently still in use in _move\n  _identifyMenuItemsNeighbors: function( menuItem, menubar, index ) {\n    var collectionLength = this.menuItems.length,\n      isFirstElement = ( index === 0 ),\n      isLastElement = ( index === ( collectionLength - 1 ) );\n\n    if ( isFirstElement ) {\n      menuItem.data( \"prevMenuItem\", $( this.menuItems[collectionLength - 1]) );\n      menuItem.data( \"nextMenuItem\", $( this.menuItems[index+1]) );\n    } else if ( isLastElement ) {\n      menuItem.data( \"nextMenuItem\", $( this.menuItems[0]) );\n      menuItem.data( \"prevMenuItem\", $( this.menuItems[index-1]) );\n    } else {\n      menuItem.data( \"nextMenuItem\", $( this.menuItems[index+1]) );\n      menuItem.data( \"prevMenuItem\", $( this.menuItems[index-1]) );\n    }\n  },\n\n  _initializeItems: function() {\n    var menubar = this;\n\n    this._focusable( this.items );\n    this._hoverable( this.items );\n\n    // let only the first item receive focus\n    this.items.slice(1).attr( \"tabIndex\", -1 );\n\n    this.items.each(function( index, item ) {\n      menubar._initializeItem( $( item ), menubar );\n    });\n  },\n\n  _initializeItem: function( anItem ) {\n    var menuItemHasSubMenu = this._hasSubMenu( anItem.parent() );\n\n    anItem\n      .addClass( \"ui-button ui-widget ui-button-text-only ui-menubar-link\" )\n      .attr( \"role\", \"menuitem\" )\n      .wrapInner( \"<span class='ui-button-text'></span>\" );\n\n    this._on( anItem, {\n      focus:  function( event ){\n        anItem.attr( \"tabIndex\", 0 );\n        anItem.addClass( \"ui-state-focus\" );\n        event.preventDefault();\n      },\n      focusout:  function( event ){\n        anItem.attr( \"tabIndex\", -1 );\n        this.lastFocused = anItem;\n        anItem.removeClass( \"ui-state-focus\" );\n        event.preventDefault();\n      }\n    } );\n\n    if ( menuItemHasSubMenu ) {\n      this._on( anItem, {\n        click: this._mouseBehaviorForMenuItemWithSubmenu,\n        focus: this._mouseBehaviorForMenuItemWithSubmenu,\n        mouseenter: this._mouseBehaviorForMenuItemWithSubmenu\n      });\n\n      this._on( anItem, {\n        keydown: function( event ) {\n          switch ( event.keyCode ) {\n          case $.ui.keyCode.SPACE:\n          case $.ui.keyCode.UP:\n          case $.ui.keyCode.DOWN:\n            this._open( event, $( event.target ).next() );\n            event.preventDefault();\n            break;\n          case $.ui.keyCode.LEFT:\n            this.previous( event );\n            event.preventDefault();\n            break;\n          case $.ui.keyCode.RIGHT:\n            this.next( event );\n            event.preventDefault();\n            break;\n          case $.ui.keyCode.TAB:\n            break;\n          }\n        }\n      });\n\n      anItem.attr( \"aria-haspopup\", \"true\" );\n      if ( this.options.icons ) {\n        anItem.append( \"<span class='ui-button-icon-secondary ui-icon \" + this.options.icons.dropdown + \"'></span>\" );\n        anItem.removeClass( \"ui-button-text-only\" ).addClass( \"ui-button-text-icon-secondary\" );\n      }\n    } else {\n      this._on( anItem, {\n        click: function() {\n          if ( this.active ) {\n            this._close();\n          } else {\n            this.open = true;\n            this.active = $( anItem ).parent();\n          }\n        },\n        mouseenter: function() {\n          if ( this.open ) {\n            this.stashedOpenMenu = this.active;\n            this._close();\n          }\n        },\n        keydown: function( event ) {\n          if ( event.keyCode === $.ui.keyCode.LEFT ) {\n            this.previous( event );\n            event.preventDefault();\n          } else if ( event.keyCode === $.ui.keyCode.RIGHT ) {\n            this.next( event );\n            event.preventDefault();\n          }\n        }\n      });\n    }\n  },\n\n  // TODO silly name, too much complexity\n  // TODO why is this used for three types of events?\n  _mouseBehaviorForMenuItemWithSubmenu: function( event ) {\n    var isClickingToCloseOpenMenu, menu;\n\n    // ignore triggered focus event\n    if ( event.type === \"focus\" && !event.originalEvent ) {\n      return;\n    }\n    event.preventDefault();\n\n    menu = $(event.target).parents( \".ui-menubar-item\" ).children( this.options.menus );\n\n    // If we have an open menu and we see a click on the menuItem\n    // and the menu thereunder is the same as the active menu, close it.\n    // Succinctly: toggle menu open / closed  on the menuItem\n    isClickingToCloseOpenMenu = event.type === \"click\" &&\n      menu.is( \":visible\" ) &&\n      this.active &&\n      this.active[0] === menu[0];\n\n    if ( isClickingToCloseOpenMenu ) {\n      this._close();\n      return;\n    }\n    if ( event.type === \"mouseenter\" ) {\n      this.element.find( \":focus\" ).focusout();\n      if ( this.stashedOpenMenu ) {\n        this._open( event, menu);\n      }\n      this.stashedOpenMenu = undefined;\n    }\n    // If we already opened a menu and then changed to be \"over\" another MenuItem ||\n    // we clicked on a new menuItem (whether open or not) or if we auto expand (i.e.\n    // we expand regardless of click if there is a submenu\n    if ( ( this.open && event.type === \"mouseenter\" ) || event.type === \"click\" ) {\n      clearTimeout( this.closeTimer );\n      this._open( event, menu );\n      // Stop propagation so that menuItem mouseenter doesn't fire.  If it does it\n      // takes the \"selected\" status off off of the first element of the submenu.\n      event.stopPropagation();\n    }\n  },\n\n  _destroy : function() {\n    this.menuItems\n      .removeClass( \"ui-menubar-item\" )\n      .removeAttr( \"role\" )\n      .css({\n        \"border-width\": \"\",\n        \"border-style\": \"\"\n      });\n\n    this.element\n      .removeClass( \"ui-menubar ui-widget-header ui-helper-clearfix\" )\n      .removeAttr( \"role\" )\n      .unbind( \".menubar\" );\n\n    this.items\n      .unbind( \".menubar\" )\n      .removeClass( \"ui-button ui-widget ui-button-text-only ui-menubar-link ui-state-default\" )\n      .removeAttr( \"role\" )\n      .removeAttr( \"aria-haspopup\" )\n      .children( \".ui-icon\" ).remove();\n\n    // TODO fix this\n    if ( false ) {\n      // Does not unwrap\n      this.items.children( \"span.ui-button-text\" ).unwrap();\n    } else {\n      // Does \"unwrap\"\n      this.items.children( \"span.ui-button-text\" ).each( function(){\n        var item = $( this );\n        item.parent().html( item.html() );\n      });\n    }\n\n    this.element.find( \":ui-menu\" )\n      .menu( \"destroy\" )\n      .show()\n      .removeAttr( \"aria-hidden\" )\n      .removeAttr( \"aria-expanded\" )\n      .removeAttr( \"tabindex\" )\n      .unbind( \".menubar\" );\n  },\n\n  _collapseActiveMenu: function() {\n    if ( !this.active.is( \":ui-menu\" ) ) {\n      return;\n    }\n    this.active\n      .menu( \"collapseAll\" )\n      .hide()\n      .attr({\n        \"aria-hidden\": \"true\",\n        \"aria-expanded\": \"false\"\n      })\n      .closest( this.options.items ).removeClass( \"ui-state-active\" );\n  },\n\n  _close: function() {\n    if ( !this.active ) {\n      return;\n    }\n\n    this._collapseActiveMenu();\n\n    this.active = null;\n    this.open = false;\n    this.openSubmenus = 0;\n  },\n\n  _open: function( event, menu ) {\n    var menuItem = menu.closest( \".ui-menubar-item\" );\n\n    if ( this.active && this.active.length &&\n        this._hasSubMenu( this.active.closest( this.options.items ) ) ) {\n          this._collapseActiveMenu();\n    }\n\n    menuItem.addClass( \"ui-state-active\" );\n    // workaround when clicking a non-menu item, then hovering a menu, then going back\n    // this way afterwards its still possible to tab back to a menubar, even if its\n    // the wrong item\n    // see also \"click menu-less item, hover in and out of item with menu\" test in menubar_core\n    if ( !this.lastFocused ) {\n      this.lastFocused = menu.prev();\n    }\n\n    this.active = menu\n      .show()\n      .position( $.extend({\n        of: menuItem\n      }, this.options.position ) )\n      .removeAttr( \"aria-hidden\" )\n      .attr( \"aria-expanded\", \"true\" )\n      .menu( \"focus\", event, menu.children( \".ui-menu-item\" ).first()  )\n      .focus();\n\n    this.open = true;\n  },\n\n  next: function( event ) {\n    function shouldOpenNestedSubMenu() {\n      return this.active &&\n        this._hasSubMenu( this.active.closest( this.options.items ) ) &&\n        this.active.data( \"uiMenu\" ) &&\n        this.active.data( \"uiMenu\" ).active &&\n        this.active.data( \"uiMenu\" ).active.has( \".ui-menu\" ).length;\n    }\n\n    if ( this.open ) {\n      if ( shouldOpenNestedSubMenu.call( this ) ) {\n        // Track number of open submenus and prevent moving to next menubar item\n        this.openSubmenus++;\n        return;\n      }\n    }\n    this.openSubmenus = 0;\n    this._move( \"next\", event );\n  },\n\n  previous: function( event ) {\n    if ( this.open && this.openSubmenus ) {\n      // Track number of open submenus and prevent moving to previous menubar item\n      this.openSubmenus--;\n      return;\n    }\n    this.openSubmenus = 0;\n    this._move( \"prev\", event );\n  },\n\n  _move: function( direction, event ) {\n    var closestMenuItem = $( event.target ).closest( \".ui-menubar-item\" ),\n      nextMenuItem = closestMenuItem.data( direction + \"MenuItem\" ),\n      focusableTarget = nextMenuItem.find( \".ui-button\" );\n\n    if ( this.open ) {\n      if ( this._hasSubMenu( nextMenuItem ) ) {\n        this._open( event, nextMenuItem.children( \".ui-menu\" ) );\n      } else {\n        this._collapseActiveMenu();\n        nextMenuItem.find( \".ui-button\" ).focus();\n        this.open = true;\n      }\n    } else {\n      closestMenuItem.find( \".ui-button\" );\n      focusableTarget.focus();\n    }\n  }\n\n});\n\n}( jQuery ));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./libs/jquery.menubar.js\n ** module id = 86\n ** module chunks = 3\n **/","#\"use strict\"\n_ = require 'Underscore'\nBackbone = require 'Backbone'\n\n#require 'threenodes/views/sidebar/fields/BoolField'\n#require 'threenodes/views/sidebar/fields/StringField'\n#require 'threenodes/views/sidebar/fields/FloatField'\n#require 'threenodes/views/sidebar/fields/Vector2Field'\n#require 'threenodes/views/sidebar/fields/Vector3Field'\n#require 'threenodes/views/sidebar/fields/Vector4Field'\n#require 'threenodes/views/sidebar/fields/QuaternionField'\n#require 'threenodes/views/sidebar/fields/EulerField'\n\n### NodeSidebarView ###\nclass NodeSidebarView extends Backbone.View\n  initialize: (options) ->\n    super\n    @render()\n\n  displayFields: (fields) =>\n    #throw new Error(\"Need to reimplement\")\n    # todo: set the View from the field class.\n    # add a static field on the model, @sidebarView: BoolFieldView\n    for f of fields\n      field = fields[f]\n      view_class = field.constructor.VIEW\n\n      if view_class != false\n        view = new view_class\n          model: field\n        @$el.append(view.el)\n\n  render: () =>\n    # Compile the template file\n    @$el.html(\"<h2>#{@model.get('name')}</h2>\")\n    @displayFields(@model.fields.inputs)\n\n    # Special case for code nodes, add buttons to add inputs/outputs.\n    # Todo: find a way to define a sidebarview class by nodetypes and\n    # refactor this (CodeSidebarView extends NodeSidebarView)\n    if @model.onCodeUpdate\n      self = this\n      @$el.append(\"<h2>Add custom fields</h2>\")\n      $inputs_form = $('<form class=\"dynamic-fields__form\"></form>')\n      $inputs_form.append('<input type=\"text\" name=\"key\" placeholder=\"key\" />')\n      $inputs_form.append('<input type=\"text\" name=\"type\" placeholder=\"type\" />')\n      $inputs_form.append('<input type=\"submit\" value=\"Add input field\" />')\n      @$el.append($inputs_form)\n\n      $inputs_form.on 'submit', (e) ->\n        e.preventDefault()\n        $form = $(this)\n        $key = $(this).find('[name=\"key\"]')\n        $type = $(this).find('[name=\"type\"]')\n        type = 'Any'\n        if $.trim($type.val()) != ''\n          type = $.trim($type.val())\n        key = $.trim($key.val())\n        if key != ''\n          # add this to the model custom fields definition and rerender the view.\n          self.model.addCustomField(key, type, 'inputs')\n          # Reset form.\n          $key.val('')\n          $type.val('')\n\n          # Simply rerender the sidebar.\n          # todo: maybe do something like remove the render.\n          self.render()\n\n    return @\n\nmodule.exports = NodeSidebarView\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/views/sidebar/NodeSidebarView.coffee\n **/","#\"use strict\"\n_ = require 'Underscore'\nBackbone = require 'Backbone'\n\nrequire 'treeJquery'\n\nclass TreeView extends Backbone.View\n  initialize: (options) ->\n    super\n    @timeoutId = false\n\n  render: (nodelist) =>\n    if @$el.data(\"tree\")\n      @$el.tree(\"destroy\")\n\n    if nodelist == false\n      @$el.html(\"\")\n      return this\n    data = []\n    terminalNodes = {}\n    for node in nodelist.models\n      if node.hasOutConnection() == false\n        terminalNodes[node.attributes[\"nid\"]] = node\n\n    renderNode = (node) =>\n      result = {}\n      result.label = node.get(\"name\")\n      result.model = node\n      result.children = []\n      upstreamNodes = node.getUpstreamNodes()\n      for upnode in upstreamNodes\n        result.children.push(renderNode(upnode))\n\n      return result\n\n    for nid of terminalNodes\n      data.push(renderNode(terminalNodes[nid]))\n\n    @$el.tree\n      data: data\n      autoOpen: true\n      selectable: true\n\n    @$el.bind \"tree.click\", (e) =>\n      node = e.node.model\n      $( \".node\" ).removeClass(\"ui-selected\")\n      node.trigger(\"node:addSelectedClass\")\n      selectable = $(\"#container\").data(\"selectable\")\n      selectable.refresh()\n      selectable._mouseStop(null)\n    return this\n\nmodule.exports = TreeView\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/views/TreeView.coffee\n **/","_ = require 'Underscore'\nBackbone = require 'Backbone'\n_view_node_field_in = require '../templates/node_field_input.tmpl.html'\n_view_node_field_out = require '../templates/node_field_output.tmpl.html'\n_view_field_context_menu = require '../templates/field_context_menu.tmpl.html'\n\nrequire 'threenodes/utils/Utils'\nrequire 'libs/jquery.contextMenu'\n\n### FieldButton View ###\nclass FieldButton extends Backbone.View\n  className: \"field\"\n  # Save some options in variables and bind events\n  initialize: (options) ->\n    super\n    @makeElement()\n    @render()\n\n  remove: () =>\n    $inner = $(\".inner-field\", @$el)\n    # Remove drag & drop events\n    if $inner.data(\"droppable\") then $inner.droppable(\"destroy\")\n    if $inner.data(\"draggable\") then $inner.draggable(\"destroy\")\n\n    # Remove the inner DOM element to also unbind some possible events\n    $inner.remove()\n    super\n\n  makeElement: () =>\n    layout = if @model.get(\"is_output\") then _view_node_field_out else _view_node_field_in\n\n    bt = _.template layout,\n      fid: @model.get(\"fid\")\n      name: @model.get(\"name\")\n    @$el.html(bt)\n\n  render: () =>\n    @$el.attr(\"rel\", @model.get(\"name\"))\n    @$el.addClass(\"field-\" + @model.get(\"name\"))\n\n    @$el.data(\"object\", @model)\n    @$el.data(\"fid\", @model.get(\"fid\"))\n\n    @initContextMenu()\n    @addFieldListener()\n\n  initContextMenu: () ->\n    if $(\"#field-context-menu\").length < 1\n      menu_field_menu = _.template(_view_field_context_menu, {})\n      $(\"body\").append(menu_field_menu)\n    @$el.contextMenu {menu: \"field-context-menu\"}, (action, el, pos) =>\n      if action == \"removeConnection\" then @model.removeConnections()\n    return @\n\n  addFieldListener: () ->\n    self = this\n    field = @model\n\n    start_offset_x = 0\n    start_offset_y = 0\n\n    getPath = (start, end, offset) ->\n      ofx = $(\"#container-wrapper\").scrollLeft()\n      ofy = $(\"#container-wrapper\").scrollTop()\n      \"M#{start.left + offset.left + 2} #{start.top + offset.top + 2} L#{end.left + offset.left + ofx - start_offset_x} #{end.top + offset.top + ofy - start_offset_y}\"\n\n    highlight_possible_targets = () ->\n      target = \".outputs .field\"\n      if field.get(\"is_output\") == true\n        target = \".inputs .field\"\n      $(target).filter () ->\n        $(this).parent().parent().parent().data(\"nid\") != field.node.get(\"nid\")\n      .addClass \"field-possible-target\"\n\n    $(\".inner-field\", @$el).draggable\n      helper: () ->\n        $(\"<div class='ui-widget-drag-helper'></div>\")\n      scroll: true\n      cursor: 'pointer'\n      cursorAt:\n        left: 0\n        top: 0\n      start: (event, ui) ->\n        start_offset_x = $(\"#container-wrapper\").scrollLeft()\n        start_offset_y = $(\"#container-wrapper\").scrollTop()\n        highlight_possible_targets()\n        if ThreeNodes.UI.UIView.connecting_line then ThreeNodes.UI.UIView.connecting_line.attr({opacity: 1})\n      stop: (event, ui) ->\n        $(\".field\").removeClass \"field-possible-target\"\n        if ThreeNodes.UI.UIView.connecting_line then ThreeNodes.UI.UIView.connecting_line.attr({opacity: 0})\n      drag: (event, ui) ->\n        if ThreeNodes.UI.UIView.connecting_line\n          pos = $(this).position()\n          node_pos =\n            left: field.node.get(\"x\")\n            top: field.node.get(\"y\")\n          ThreeNodes.UI.UIView.connecting_line.attr\n            path: getPath(pos, ui.position, node_pos)\n          return true\n\n    accept_class = \".outputs .inner-field\"\n    if field && field.get(\"is_output\") == true\n      accept_class = \".inputs .inner-field\"\n\n    $(\".inner-field\", @$el).droppable\n      accept: accept_class\n      activeClass: \"ui-state-active\"\n      hoverClass: \"ui-state-hover\"\n      drop: (event, ui) ->\n        origin = $(ui.draggable).parent()\n        field2 = origin.data(\"object\")\n        # We need to find the most global @connections\n        # For a connection between a normal node and one in a group\n        # we want to find the global @connections\n        #\n        # For now we simply get the node from the second field if the\n        # first one has a parent node\n        #\n        # TODO: fix this for nested groups (try to connect to in ins and outs)\n        if field.node.parent\n          field2.node.createConnection(field, field2)\n        else\n          field.node.createConnection(field, field2)\n\n    return this\n\nmodule.exports = FieldButton\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/fields/views/FieldButton.coffee\n **/","_ = require 'Underscore'\nBackbone = require 'Backbone'\nIndexer = require 'threenodes/utils/Indexer'\nnamespace = require('libs/namespace').namespace\n\nBoolField = require 'threenodes/fields/views/sidebar/BoolField'\nStringField = require 'threenodes/fields/views/sidebar/StringField'\nFloatField = require 'threenodes/fields/views/sidebar/FloatField'\nVector2Field = require 'threenodes/fields/views/sidebar/Vector2Field'\nVector3Field = require 'threenodes/fields/views/sidebar/Vector3Field'\nVector4Field = require 'threenodes/fields/views/sidebar/Vector4Field'\nQuaternionField = require 'threenodes/fields/views/sidebar/QuaternionField'\nEulerField = require 'threenodes/fields/views/sidebar/EulerField'\n\n### Field model ###\nclass NodeField extends Backbone.Model\n  # Define the view class used to display the sidebar attributes.\n  @VIEW:  false\n\n  # Create a static indexer used if the field is not part of a nodes collection (tests)\n  @STATIC_INDEXER: new Indexer()\n\n  defaults: () ->\n    fid: -1\n    name: \"fieldname\"\n    machine_name: \"fieldname-nid\"\n    is_output: false\n    value: 0\n    default: null\n\n  # Override the backbone sync method since the field is not directly stored on a server\n  sync: () =>\n\n  # A field is always valid\n  _validate: (attrs, options) => return true\n\n  # override the backbone set method if the key is \"value\"\n  # this is one of the most called function so this needs to be fast\n  set: (key, value, options = {}) =>\n    if key == \"value\"\n      this.attributes[key] = value\n      return this\n\n    super\n\n  load: (data) =>\n    # Return without doing anything if there is no data\n    if !data && data != false\n      return\n\n    if $.type(data) != \"object\"\n      # If the loaded data is not an object simply apply the value\n      @setValue(data)\n    else\n      # If the data is an object then directly apply each object properties to the value\n      for property of data\n        @attributes.value[property] = data[property]\n    return this\n\n  initialize: (options) =>\n    self = this\n    # Keep reference to some variables\n    @node = options.node\n    @subfield = options.subfield\n    @propagateDirty = if options.propagateDirty? then options.propagateDirty else true\n    indexer = options.indexer || ThreeNodes.NodeField.STATIC_INDEXER\n\n    # Common field variables\n    @changed = true\n\n    # Array containing all connections from and to this field\n    @connections = []\n\n    # Callback called when the value is changed\n    # todo: replace it with the backbone standard way?\n    @on_value_update_hooks = {}\n\n    # Field machine_name must be unique inside each nodes\n    @set(\"machine_name\", @get(\"name\"))\n\n    # For proxyfields we append the subfield node id\n    # since the same field name can be in different subnodes\n    if @subfield && @subfield.node\n      @set(\"machine_name\", @get(\"name\") + \"-\" + @subfield.node.get(\"nid\"))\n    if @get(\"fid\") == -1\n      @set(\"fid\", indexer.getUID())\n\n  remove: () =>\n    delete @on_value_update_hooks\n    delete @node\n    delete @connections\n    delete @button\n    delete @subfield\n    @destroy()\n\n  isEqual: (val, prev) ->\n    if _.isArray(val) && _.isArray(prev)\n      if val.length != prev.length then return false\n      same_array = true\n      for val1, i in val\n        prev1 = prev[i]\n\n        if @isEqual(val1, prev1) == false\n          same_array = false\n          break\n      if same_array == false\n        return false\n      else\n        return true\n\n    else if _.isObject(val) && _.isObject(prev)\n      if val.uuid? && prev.uuid? && val.uuid == prev.uuid\n        return true\n      #if _.isEqual(val, prev) then return true\n      return false\n\n    else if val == prev then return true\n\n    return false\n\n  setValue: (v) =>\n    prev_val = @attributes[\"value\"]\n\n    if @isEqual(v, prev_val) then return false\n\n    # Set the 'changed' flag on the field and on the node\n    @changed = true\n    propagate = @propagateDirty\n    # recursive function to set group node dirty if child become dirty\n    setNodeDirty = (node) ->\n      node.dirty = true\n      if propagate && node.parent then setNodeDirty(node.parent)\n      #if node.parent then setNodeDirty(node.parent)\n\n    if @node then setNodeDirty(@node)\n\n    # Define references to the previous and current value\n    new_val = @onValueChanged(v)\n\n    # remove all null values from the array\n    if $.type(new_val) == \"array\"\n      tmp_val = _.filter new_val, (item) ->\n        item != null\n      if this.constructor == Array\n        new_val = tmp_val\n      else\n        if tmp_val.length != 0\n          new_val = tmp_val\n        else\n          new_val = null\n\n    # Reset the value if it's null and it has a default\n    if new_val == null\n      default_val = @attributes[\"default\"]\n      if default_val != null && default_val != undefined\n        prev_val = default_val\n      new_val = prev_val\n\n    # Set the value\n    @attributes[\"value\"] = new_val\n    @trigger(\"value_updated\", new_val)\n\n    # Call the on_value_update hooks\n    # TODO: remove this when all fields have their own view...\n    for hook of @on_value_update_hooks\n      @on_value_update_hooks[hook](new_val)\n\n    # If this is an output and it is connected, propagate the value to the inputs\n    if @attributes[\"is_output\"] == true\n      for connection in @connections\n        connection.to_field.setValue(new_val)\n\n    return true\n\n  getValue: (index = 0) =>\n    val = @attributes[\"value\"]\n    if $.type(val) != \"array\"\n      return val\n    else\n      return val[index % val.length]\n\n  isChanged: () =>\n    res = @changed\n    @changed = false\n    res\n\n  isConnected: () =>\n    @connections.length > 0\n\n  getSliceCount: () =>\n    val = @attributes[\"value\"]\n    if jQuery.type(val) != \"array\"\n      return 1\n    return val.length\n\n  isAnimationProperty: () =>\n    if this.constructor == Float ||this.constructor == Bool\n      return true\n    return false\n\n  toJSON : () =>\n    res =\n      name: @get(\"name\")\n\n    # Add the node nid for fields that are part of subnodes (group)\n    if @subfield\n      res.nid = @subfield.node.get(\"nid\")\n\n    # Help avoid cyclic value\n    val = @get(\"value\")\n    val_type = jQuery.type(val)\n    if val_type != \"object\" && val_type != \"array\"\n      res.val = val\n\n    # We may still need to save basic values\n    if val_type == \"object\"\n      if val.constructor == THREE.Vector2 || val.constructor == THREE.Vector3 || val.constructor == THREE.Vector4 || val.constructor == THREE.Color\n        res.val = val\n\n    return res\n\n  renderConnections: () =>\n    for connection in @connections\n      connection.render()\n    true\n\n  computeValue : (val) =>\n    return val\n\n  addConnection: (c) =>\n    if @connections.indexOf(c) == -1\n      @connections.push c\n      if @get(\"is_output\") == true\n        @node.addOutConnection(c, this)\n      @node.disablePropertyAnim(this)\n    return c\n\n  unregisterConnection: (c) =>\n    @node.removeConnection(c)\n\n    ind = @connections.indexOf(c)\n    if ind != -1\n      @connections.splice(ind, 1)\n    if @connections.length == 0\n      @node.enablePropertyAnim(this)\n\n  # remove all connections\n  removeConnections: () =>\n    @connections[0].remove() while @connections.length > 0\n    return this\n\n  onValueChanged: (val) =>\n    self = this\n    if $.type(val) == \"array\"\n      return _.map(val, (n) -> self.computeValue(n))\n\n    return @computeValue(val)\n\n\n\nclass Any extends NodeField\n  computeValue : (val) =>\n    val\n\n  onValueChanged : (val) =>\n    return val\nThreeNodes.Core.addFieldType('Any', Any)\n\nclass Array extends NodeField\n  computeValue : (val) =>\n    if !val ||val == false\n      return []\n    if $.type(val) == \"array\"\n      return val\n    else\n      return [val]\n\n  removeConnections: () =>\n    super\n    if @get(\"is_output\") == false\n      @setValue([])\n\n  onValueChanged : (val) =>\n    return @computeValue(val)\n\n  getValue: (index = 0) => @get(\"value\")\nThreeNodes.Core.addFieldType('Array', Array)\n\nclass Bool extends NodeField\n  @VIEW:  BoolField\n  computeValue : (val) =>\n    switch $.type(val)\n      when \"boolean\" then return val\n      when \"number\" then return val != 0\n      when \"string\" then return val == \"1\"\n    return null\nThreeNodes.Core.addFieldType('Bool', Bool)\n\nclass String extends NodeField\n  @VIEW:  StringField\n  computeValue : (val) =>\n    switch $.type(val)\n      when \"array\" then return val\n      when \"number\" then return val.toString\n      when \"string\" then return val\n    return null\nThreeNodes.Core.addFieldType('String', String)\n\nclass Float extends NodeField\n  @VIEW:  FloatField\n  computeValue : (val) =>\n    switch $.type(val)\n      when \"number\", \"string\" then return parseFloat(val)\n      when \"object\"\n        if val.constructor == THREE.Vector2 ||val.constructor == THREE.Vector3\n          return val\n      when \"boolean\"\n        if val == true\n          return 1\n        else\n          return 0\n    return null\nThreeNodes.Core.addFieldType('Float', Float)\n\nclass Vector2 extends NodeField\n  @VIEW:  Vector2Field\n  computeValue : (val) =>\n    if $.type(val) == \"object\"\n      if val.constructor == THREE.Vector2\n        return val\n    return null\nThreeNodes.Core.addFieldType('Vector2', Vector2)\n\nclass Vector3 extends NodeField\n  @VIEW:  Vector3Field\n  computeValue : (val) =>\n    if $.type(val) == \"object\"\n      if val.constructor == THREE.Vector3\n        return val\n    return null\nThreeNodes.Core.addFieldType('Vector3', Vector3)\n\nclass Vector4 extends NodeField\n  @VIEW:  Vector4Field\n  computeValue : (val) =>\n    if $.type(val) == \"object\"\n      if val.constructor == THREE.Vector4\n        return val\n    return null\nThreeNodes.Core.addFieldType('Vector4', Vector4)\n\nclass Quaternion extends NodeField\n  @VIEW:  QuaternionField\n  computeValue : (val) =>\n    if $.type(val) == \"object\"\n      if val.constructor == THREE.Quaternion\n        return val\n    return null\nThreeNodes.Core.addFieldType('Quaternion', Quaternion)\n\nclass Euler extends NodeField\n  @VIEW:  EulerField\n  computeValue : (val) =>\n    if $.type(val) == \"object\"\n      if val.constructor == THREE.Euler\n        return val\n    return null\nThreeNodes.Core.addFieldType('Euler', Euler)\n\nclass Color extends NodeField\n  @VIEW:  false\n  computeValue : (val) =>\n    switch $.type(val)\n      when \"number\" then return new THREE.Color().setRGB(val, val, val)\n      when \"object\"\n        switch val.constructor\n          when THREE.Color then return val\n          when THREE.Vector3 then return new THREE.Color().setRGB(val.x, val.y, val.z)\n      when \"boolean\"\n        if val\n          return new THREE.Color(0xffffff)\n        else\n          return new THREE.Color(0x000000)\n    return null\nThreeNodes.Core.addFieldType('Color', Color)\n\nclass Object3D extends NodeField\n  computeValue : (val) =>\n    if $.type(val) == \"object\"\n      if val.constructor == THREE.Object3D || val instanceof THREE.Object3D\n        return val\n    return null\nThreeNodes.Core.addFieldType('Object3D', Object3D)\n\nclass Scene extends NodeField\n  computeValue : (val) =>\n    if $.type(val) == \"object\"\n      if val instanceof THREE.Scene\n        return val\n    return null\nThreeNodes.Core.addFieldType('Scene', Scene)\n\nclass Camera extends NodeField\n  computeValue : (val) =>\n    if $.type(val) == \"object\"\n      if val instanceof THREE.Camera ||val instanceof THREE.PerspectiveCamera ||val instanceof THREE.OrthographicCamera\n        return val\n    return null\nThreeNodes.Core.addFieldType('Camera', Camera)\n\nclass Mesh extends NodeField\n  computeValue : (val) =>\n    if $.type(val) == \"object\"\n      if val.constructor == THREE.Mesh || val instanceof THREE.Mesh\n        return val\n    return null\nThreeNodes.Core.addFieldType('Mesh', Mesh)\n\nclass Geometry extends NodeField\n  computeValue : (val) =>\n    if $.type(val) == \"object\"\n      if val.constructor == THREE.Geometry || val instanceof THREE.Geometry\n        return val\n    return null\nThreeNodes.Core.addFieldType('Geometry', Geometry)\n\nclass Material extends NodeField\n  computeValue : (val) =>\n    if $.type(val) == \"object\"\n      if val.constructor == THREE.Material || val instanceof THREE.Material\n        return val\n    return null\nThreeNodes.Core.addFieldType('Material', Material)\n\nclass Texture extends NodeField\n  computeValue : (val) =>\n    if $.type(val) == \"object\"\n      if val.constructor == THREE.Texture || val instanceof THREE.Texture\n        return val\n    return null\nThreeNodes.Core.addFieldType('Texture', Texture)\n\nclass Fog extends NodeField\n  computeValue : (val) =>\n    if $.type(val) == \"object\"\n      if val.constructor == THREE.Fog || val.constructor == THREE.FogExp2\n        return val\n    return null\nThreeNodes.Core.addFieldType('Fog', Fog)\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/fields/models/Field.coffee\n **/","module.exports = \"<span class=\\\"inner-field\\\"><span></span><%= name %></span>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./threenodes/fields/templates/node_field_input.tmpl.html\n ** module id = 96\n ** module chunks = 2 3\n **/","module.exports = \"<span class=\\\"inner-field\\\"><%= name %><span></span></span>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./threenodes/fields/templates/node_field_output.tmpl.html\n ** module id = 97\n ** module chunks = 2 3\n **/","module.exports = \"<ul id=\\\"field-context-menu\\\" class=\\\"context-menu\\\">\\n  <li><a href=\\\"#removeConnection\\\">Remove connection(s)</a></li>\\n</ul>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./threenodes/fields/templates/field_context_menu.tmpl.html\n ** module id = 98\n ** module chunks = 2 3\n **/","#\"use strict\"\n_ = require 'Underscore'\nBackbone = require 'Backbone'\nnamespace = require('libs/namespace').namespace\n\nBaseField = require 'threenodes/fields/views/sidebar/BaseField'\n\n### SidebarField View ###\nclass BoolField extends BaseField\n  on_value_updated: (new_val) =>\n    if @model.getValue() == true\n      @$checkbox.attr('checked', 'checked')\n    else\n      @$checkbox.removeAttr('checked')\n\n  render: () =>\n    console.log \"check..\"\n    $target = @createSidebarContainer()\n    id = \"side-field-checkbox-#{@model.get('fid')}\"\n    $container = $(\"<div><input type='checkbox' id='#{id}'/></div>\").appendTo($target)\n    @$checkbox = $(\"input\", $container)\n\n    # Set the inital state of the checkbox\n    if @model.getValue() == true\n      @$checkbox.attr('checked', 'checked')\n\n    # Listen to the checkbox change status\n    @$checkbox.change (e) =>\n      if @$checkbox.is(':checked')\n        @model.setValue(true)\n      else\n        @model.setValue(false)\n    return @\n\nmodule.exports = BoolField\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/fields/views/sidebar/BoolField.coffee\n **/","#\"use strict\"\n_ = require 'Underscore'\nBackbone = require 'Backbone'\nnamespace = require('libs/namespace').namespace\n\nBaseField = require 'threenodes/fields/views/sidebar/BaseField'\n\n### StringField View ###\nclass StringField extends BaseField\n  render: () =>\n    $target = @createSidebarContainer()\n    if @model.attributes.possibilities\n      @create_sidebar_select($target)\n    else\n      @create_sidebar_input($target)\n    true\n\n  # Todo: DRY... same code on FloatField.\n  create_sidebar_select: ($target) =>\n    self = this\n    input = \"<div><select>\"\n    for f of @model.get(\"possibilities\")\n      dval = @model.get(\"possibilities\")[f]\n      if dval == @val\n        input += \"<option value='#{dval}' selected='selected'>#{f}</option>\"\n      else\n        input += \"<option value='#{dval}'>#{f}</option>\"\n    input += \"</select></div>\"\n    $target.append(input)\n    $(\"select\", $target).change (e) =>\n      @model.setValue($(\"select\", $target).val())\n    return true\n\n  create_sidebar_input: ($target) =>\n    @textfield = @createTextfield($target, \"string\")\n    @textfield.linkTextfieldToVal(\"string\")\n\nmodule.exports = StringField\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/fields/views/sidebar/StringField.coffee\n **/","#\"use strict\"\n_ = require 'Underscore'\nBackbone = require 'Backbone'\nnamespace = require('libs/namespace').namespace\n\nBaseField = require 'threenodes/fields/views/sidebar/BaseField'\n\n### FloatField View ###\nclass FloatField extends BaseField\n  initialize: (options) ->\n    super\n\n  render: () =>\n    $target = @createSidebarContainer()\n    #console.log @model\n    if @model.attributes.possibilities\n      @create_sidebar_select($target)\n    else\n      @create_sidebar_input($target)\n    true\n\n  create_sidebar_select: ($target) =>\n    self = this\n    input = \"<div><select>\"\n    for f of @model.get(\"possibilities\")\n      dval = @model.get(\"possibilities\")[f]\n      if dval == @val\n        input += \"<option value='#{dval}' selected='selected'>#{f}</option>\"\n      else\n        input += \"<option value='#{dval}'>#{f}</option>\"\n    input += \"</select></div>\"\n    $target.append(input)\n    $(\"select\", $target).change (e) =>\n      @model.setValue($(\"select\", $target).val())\n    return true\n\n  create_sidebar_input: ($target) =>\n    @textfield = @createTextfield($target)\n    @textfield.linkTextfieldToVal()\n\nmodule.exports = FloatField\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/fields/views/sidebar/FloatField.coffee\n **/","_ = require 'Underscore'\nBackbone = require 'Backbone'\nnamespace = require('libs/namespace').namespace\n\nBaseField = require 'threenodes/fields/views/sidebar/BaseField'\n\n### Vector2Field View ###\nclass Vector2Field extends BaseField\n  render: () =>\n    @createSidebarFieldTitle()\n    @createSubvalTextinput(\"x\")\n    @createSubvalTextinput(\"y\")\n    return @\n\nmodule.exports = Vector2Field\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/fields/views/sidebar/Vector2Field.coffee\n **/","#\"use strict\"\n_ = require 'Underscore'\nBackbone = require 'Backbone'\nnamespace = require('libs/namespace').namespace\n\nBaseField = require 'threenodes/fields/views/sidebar/BaseField'\n\n### Vector3Field View ###\nclass Vector3Field extends BaseField\n  render: () =>\n    @createSidebarFieldTitle()\n    @createSubvalTextinput(\"x\")\n    @createSubvalTextinput(\"y\")\n    @createSubvalTextinput(\"z\")\n    return @\n\nmodule.exports = Vector3Field\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/fields/views/sidebar/Vector3Field.coffee\n **/","#\"use strict\"\n_ = require 'Underscore'\nBackbone = require 'Backbone'\nnamespace = require('libs/namespace').namespace\n\nBaseField = require 'threenodes/fields/views/sidebar/BaseField'\n\n### Vector4Field View ###\nclass Vector4Field extends BaseField\n  render: () =>\n    @createSidebarFieldTitle()\n    @createSubvalTextinput(\"x\")\n    @createSubvalTextinput(\"y\")\n    @createSubvalTextinput(\"z\")\n    @createSubvalTextinput(\"w\")\n    return @\n\nmodule.exports = Vector4Field\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/fields/views/sidebar/Vector4Field.coffee\n **/","#\"use strict\"\n_ = require 'Underscore'\nBackbone = require 'Backbone'\nnamespace = require('libs/namespace').namespace\n\nBaseField = require 'threenodes/fields/views/sidebar/BaseField'\n\n### Vector3Field View ###\nclass QuaternionField extends BaseField\n  render: () =>\n    @createSidebarFieldTitle()\n    @createSubvalTextinput(\"x\")\n    @createSubvalTextinput(\"y\")\n    @createSubvalTextinput(\"z\")\n    @createSubvalTextinput(\"w\")\n    return @\n\nmodule.exports = QuaternionField\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/fields/views/sidebar/QuaternionField.coffee\n **/","#\"use strict\"\n_ = require 'Underscore'\nBackbone = require 'Backbone'\nnamespace = require('libs/namespace').namespace\n\nBaseField = require 'threenodes/fields/views/sidebar/BaseField'\n\n### Euler3Field View ###\nclass EulerField extends BaseField\n  render: () =>\n    @createSidebarFieldTitle()\n    @createSubvalTextinput(\"x\")\n    @createSubvalTextinput(\"y\")\n    @createSubvalTextinput(\"z\")\n    @createSubvalTextinput(\"order\", \"string\")\n    return @\n\nmodule.exports = EulerField\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/fields/views/sidebar/EulerField.coffee\n **/","#\"use strict\"\n_ = require 'Underscore'\nBackbone = require 'Backbone'\n_view_field_sidebar_container = require 'templates/field_sidebar_container.tmpl.html'\n\nSidebarTextfield = require 'threenodes/views/sidebar/SidebarTextfield'\n\n### BaseField View ###\nclass BaseField extends Backbone.View\n  initialize: (options) ->\n    super\n    @model.on \"value_updated\", @on_value_updated\n    @render()\n\n  on_value_updated: (new_val) => return @\n\n  render: () =>\n    return @\n\n  createSidebarContainer: (name = @model.get(\"name\")) =>\n    options =\n      fid: @model.get(\"fid\")\n      model: @\n      name: name\n    @container = $(_.template(_view_field_sidebar_container, options))\n    @$el.append(@container)\n\n    return @container\n\n  createTextfield: ($target, type = \"float\", link_to_val = true) =>\n    textField = new SidebarTextfield\n      model: @model\n      el: $target\n      type: type\n      link_to_val: link_to_val\n\n    return textField\n\n  createSubvalTextinput: (subval, type = \"float\") =>\n    $target = @createSidebarContainer(subval)\n    textfield = @createTextfield($target, type, false)\n    textfield.linkTextfieldToSubval(subval, type)\n    return false\n\n  createSidebarFieldTitle: (name = @model.get(\"name\")) =>\n    @$el.append(\"<h3>#{name}</h3>\")\n    return @$el\n\nmodule.exports = BaseField\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/fields/views/sidebar/BaseField.coffee\n **/","module.exports = \"<div data-fid=\\\"<%= fid %>\\\" class='field-wrapper'>\\n  <h3><%= name %></h3>\\n</div>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./templates/field_sidebar_container.tmpl.html\n ** module id = 108\n ** module chunks = 0 2 3\n **/","#\"use strict\"\n_ = require 'Underscore'\nBackbone = require 'Backbone'\n_view_field_textfield = require 'templates/field_textfield.tmpl.html'\nDraggableNumber = require 'draggable-number'\n\n### SidebarTextfield View ###\nclass SidebarTextfield extends Backbone.View\n  initialize: (options) ->\n    super\n    @slider = false\n    @render()\n\n  render: () =>\n    # Compile the template file\n    @container = $(_.template(_view_field_textfield, @options))\n    @$el.append(@container)\n    @$input = $(\"input\", @container)\n\n    return @\n\n  linkTextfieldToVal: (type = \"float\") =>\n    @$input.val(@model.getValue())\n\n    if @options.type == \"float\" && @slider == false\n      @slider = @addTextfieldSlider()\n\n    on_value_changed = (v) =>\n      if @slider then @slider.set(v)\n    @model.on \"value_updated\", on_value_changed\n\n    @$input.val(@model.getValue())\n\n    if @slider\n      @slider._options.changeCallback = (new_val) =>\n        @model.setValue(new_val)\n\n    @$input.keypress (e) =>\n      if e.which == 13\n        if type == \"float\"\n          @model.setValue(parseFloat(@$input.val()))\n        else\n          @model.setValue(@$input.val())\n        @$input.blur()\n    return this\n\n  linkTextfieldToSubval: (subval, type = \"float\") =>\n    @$input.val(@model.getValue()[subval])\n\n    if @options.type == \"float\"\n      @slider = @addTextfieldSlider()\n\n    # TODO: use the event instead of the hook\n    @model.on_value_update_hooks[\"update_sidebar_textfield_\" + subval] = (v) =>\n      @$input.val(v[subval])\n\n    updateVal = () =>\n      dval = @$input.val()\n      if type == \"float\" then dval = parseFloat(dval)\n      if $.type(@model.attributes.value) == \"array\"\n        @model.attributes.value[0][subval] = dval\n      else\n        @model.attributes.value[subval] = dval\n\n\n    @slider._options.changeCallback = (new_val) =>\n      updateVal()\n\n    @$input.change (e) =>\n      updateVal()\n    @$input.keypress (e) =>\n      if e.which == 13\n        updateVal()\n        @$input.blur()\n    return this\n\n  addTextfieldSlider: () =>\n    slider = new DraggableNumber(@$input.get(0))\n    return slider\n\nmodule.exports = SidebarTextfield\n\n\n\n/** WEBPACK FOOTER **\n ** ./threenodes/views/sidebar/SidebarTextfield.coffee\n **/","module.exports = \"<div class='input-container'>\\n  <input type='text' class='field-<%= type %>' />\\n</div>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./templates/field_textfield.tmpl.html\n ** module id = 110\n ** module chunks = 0 2 3\n **/","/**!\n * draggable-number.js\n * Minimal numeric input widget\n *\n * @license Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.\n * @author David Mignot - http://idflood.com\n * @version 0.3.0\n **/\n(function(root, factory) {\n    if(typeof exports === 'object') {\n        module.exports = factory();\n    }\n    else if(typeof define === 'function' && define.amd) {\n        define([], factory);\n    }\n    else {\n        root['DraggableNumber'] = factory();\n    }\n}(this, function() {\n// Utility function to replace .bind(this) since it is not available in all browsers.\nvar __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n/**\n * Define the DraggableNumber element.\n * @constructor\n * @param {DomElement} input - The input which will be converted to a draggableNumber.\n */\nDraggableNumber = function (input, options) {\n  this._options = options !== undefined ? options : {};\n\n  this._input = input;\n  this._span = document.createElement(\"span\");\n  this._isDragging = false;\n  this._lastMousePosition = {x: 0, y: 0};\n  this._value = 0;\n\n  // Minimum mouse movement before a drag start.\n  this._dragThreshold = this._setOption('dragThreshold', 10);\n\n  // Min/max value.\n  this._min = this._setOption('min', -Infinity);\n  this._max = this._setOption('max', Infinity);\n\n  // Store the original display style for the input and span.\n  this._inputDisplayStyle = \"\";\n  this._spanDisplayStyle = \"\";\n\n  this._init();\n};\n\n/**\n * Constant used when there is no key modifier.\n * @constant\n * type {Number}\n */\nDraggableNumber.MODIFIER_NONE = 0;\n\n/**\n * Constant used when there is a shift key modifier.\n * @constant\n * type {Number}\n */\nDraggableNumber.MODIFIER_LARGE = 1;\n\n/**\n * Constant used when there is a control key modifier.\n * @constant\n * type {Number}\n */\nDraggableNumber.MODIFIER_SMALL = 2;\n\nDraggableNumber.prototype = {\n  constructor: DraggableNumber,\n\n  /**\n   * Initialize the DraggableNumber.\n   * @private\n   */\n  _init: function () {\n    // Get the inital _value from the input.\n    this._value = parseFloat(this._input.value, 10);\n\n    // Add a span containing the _value. Clicking on the span will show the\n    // input. Dragging the span will change the _value.\n    this._addSpan();\n\n    // Save the original display style of the input and span.\n    this._inputDisplayStyle = this._input.style.display;\n    this._spanDisplayStyle = this._span.style.display;\n\n    // Hide the input.\n    this._input.style.display = 'none';\n\n    // Bind 'this' on event callbacks.\n    this._onMouseUp = __bind(this._onMouseUp, this);\n    this._onMouseMove = __bind(this._onMouseMove, this);\n    this._onMouseDown = __bind(this._onMouseDown, this);\n    this._onInputBlur = __bind(this._onInputBlur, this);\n    this._onInputKeyDown = __bind(this._onInputKeyDown, this);\n    this._onInputChange = __bind(this._onInputChange, this);\n\n    // Add mousedown event handler.\n    this._span.addEventListener('mousedown', this._onMouseDown, false);\n\n    // Add key events on the input.\n    this._input.addEventListener('blur', this._onInputBlur, false);\n    this._input.addEventListener('keypress', this._onInputKeyDown, false);\n\n    // Directly assign the function instead of using addeventlistener.\n    // To programatically change the _value of the draggableNumber you\n    // could then do:\n    // input._value = new_number;\n    // input.onchange();\n    this._input.onchange = this._onInputChange;\n  },\n\n  /**\n   * Set the DraggableNumber value.\n   * @public\n   * @param {Number} new_value - The new value.\n   */\n  set: function (new_value) {\n    new_value = this._constraintValue(new_value);\n    this._value = new_value;\n    this._input.value = this._value;\n    this._span.innerHTML = this._value;\n  },\n\n  /**\n   * Get the DraggableNumber value.\n   * @public\n   * @returns {Number}\n   */\n  get: function () {\n    return this._value;\n  },\n\n  /**\n   * Set the minimum value.\n   * @public\n   * @param {Number} min - The minimum value.\n   */\n  setMin: function (min) {\n    this._min = min;\n    // Set the value with current value to automatically constrain it if needed.\n    this.set(this._value);\n  },\n\n  /**\n   * Set the maximum value.\n   * @public\n   * @param {Number} min - The minimum value.\n   */\n  setMax: function (max) {\n    this._max = max;\n    // Set the value with current value to automatically constrain it if needed.\n    this.set(this._value);\n  },\n\n  /**\n   * Remove the DraggableNumber.\n   * @public\n   */\n  destroy: function () {\n    // Remove event listeners.\n    this._span.removeEventListener('mousedown', this._onMouseDown, false);\n    this._input.removeEventListener('blur', this._onInputBlur, false);\n    this._input.removeEventListener('keypress', this._onInputKeyDown, false);\n    document.removeEventListener('mouseup', this._onMouseUp, false);\n    document.removeEventListener('mousemove', this._onMouseMove, false);\n\n    // Remove the span element.\n    if (this._span.parentNode) {\n      this._span.parentNode.removeChild(this._span);\n    }\n\n    // Delete variables.\n    delete this._input;\n    delete this._span;\n    delete this._inputDisplayStyle;\n    delete this._spanDisplayStyle;\n  },\n\n  /**\n   * Set an option value based on the option parameter and the data attribute.\n   * @private\n   * @param {String} name - The option name.\n   * @param {Number} defaultValue - The default value.\n   * @returns {Number}\n   */\n  _setOption: function (name, defaultValue) {\n    // Return the option if it is defined.\n    if (this._options[name] !== undefined) {\n      return this._options[name];\n    }\n    // Return the data attribute if it is defined.\n    if (this._input.hasAttribute(\"data-\" + name)) {\n      return parseFloat(this._input.getAttribute(\"data-\" + name), 10);\n    }\n    // If there is no option and no attribute, return the default value.\n    return defaultValue;\n  },\n\n  /**\n   * Prevent selection on the whole document.\n   * @private\n   * @param {Boolean} prevent - Should we prevent or not the selection.\n   */\n  _preventSelection: function (prevent) {\n    var value = 'none';\n    if (prevent === false) {\n      value = 'all';\n    }\n\n    document.body.style['-moz-user-select'] = value;\n    document.body.style['-webkit-user-select'] = value;\n    document.body.style['-ms-user-select'] = value;\n    document.body.style['user-select'] = value;\n  },\n\n  /**\n   * Add a span element before the input.\n   * @private\n   */\n  _addSpan: function () {\n    var inputParent = this._input.parentNode;\n    inputParent.insertBefore(this._span, this._input);\n    this._span.innerHTML = this.get();\n\n    // Add resize cursor.\n    this._span.style.cursor = \"col-resize\";\n  },\n\n  /**\n   * Display the input and hide the span element.\n   * @private\n   */\n  _showInput: function () {\n    this._input.style.display = this._inputDisplayStyle;\n    this._span.style.display = 'none';\n    this._input.focus();\n  },\n\n  /**\n   * Show the span element and hide the input.\n   * @private\n   */\n  _showSpan: function () {\n    this._input.style.display = 'none';\n    this._span.style.display = this._spanDisplayStyle;\n  },\n\n  /**\n   * Called on input blur, set the new value and display span.\n   * @private\n   * @param {Object} e - Event.\n   */\n  _onInputBlur: function (e) {\n    this._onInputChange();\n    this._showSpan();\n  },\n\n  /**\n   * Called on input onchange event, set the value based on the input value.\n   * @private\n   */\n  _onInputChange: function () {\n    this.set(parseFloat(this._input.value, 10));\n  },\n\n  /**\n   * Called on input key down, blur on enter.\n   * @private\n   * @param {Object} e - Key event.\n   */\n  _onInputKeyDown: function (e) {\n    var keyEnter = 13;\n    if (e.charCode == keyEnter) {\n      this._input.blur();\n    }\n  },\n\n  /**\n   * Called on span mouse down, prevent selection and initalize logic for mouse drag.\n   * @private\n   * @param {Object} e - Mouse event.\n   */\n  _onMouseDown: function (e) {\n    this._preventSelection(true);\n    this._isDragging = false;\n    this._lastMousePosition = {x: e.clientX, y: e.clientY};\n\n    document.addEventListener('mouseup', this._onMouseUp, false);\n    document.addEventListener('mousemove', this._onMouseMove, false);\n  },\n\n  /**\n   * Called on span mouse up, show input if no drag.\n   * @private\n   * @param {Object} e - Mouse event.\n   */\n  _onMouseUp: function (e) {\n    this._preventSelection(false);\n    // If we didn't drag the span then we display the input.\n    if (this._isDragging === false) {\n      this._showInput();\n    }\n    this._isDragging = false;\n\n    document.removeEventListener('mouseup', this._onMouseUp, false);\n    document.removeEventListener('mousemove', this._onMouseMove, false);\n  },\n\n  /**\n   * Check if difference bettween 2 positions is above minimum threshold.\n   * @private\n   * @param {Object} newMousePosition - the new mouse position.\n   * @param {Object} lastMousePosition - the last mouse position.\n   * @returns {Boolean}\n   */\n  _hasMovedEnough: function (newMousePosition, lastMousePosition) {\n    if (Math.abs(newMousePosition.x - lastMousePosition.x) >= this._dragThreshold ||\n      Math.abs(newMousePosition.y - lastMousePosition.y) >= this._dragThreshold) {\n      return true;\n    }\n    return false;\n  },\n\n  _onMouseMove: function (e) {\n    // Get the new mouse position.\n    var newMousePosition = {x: e.clientX, y: e.clientY};\n\n    if (this._hasMovedEnough(newMousePosition, this._lastMousePosition)) {\n      this._isDragging = true;\n    }\n\n    // If we are not dragging don't do anything.\n    if (this._isDragging === false) {\n      return;\n    }\n\n    // Get the increment modifier. Small increment * 0.1, large increment * 10.\n    var modifier = DraggableNumber.MODIFIER_NONE;\n    if (e.shiftKey) {\n      modifier = DraggableNumber.MODIFIER_LARGE;\n    }\n    else if (e.ctrlKey) {\n      modifier = DraggableNumber.MODIFIER_SMALL;\n    }\n\n    // Calculate the delta with previous mouse position.\n    var delta = this._getLargestDelta(newMousePosition, this._lastMousePosition);\n\n    // Get the number offset.\n    var offset = this._getNumberOffset(delta, modifier);\n\n    // Update the input number.\n    var new_value = this.get() + offset;\n    this.set(new_value);\n\n    // Call onchange callback if it exists.\n    if (\"changeCallback\" in this._options) {\n      this._options.changeCallback(new_value);\n    }\n\n    // Save current mouse position.\n    this._lastMousePosition = newMousePosition;\n  },\n\n  /**\n   * Return the number offset based on a delta and a modifier.\n   * @private\n   * @param {Number} delta - a positive or negative number.\n   * @param {Number} modifier - the modifier type.\n   * @returns {Number}\n   */\n  _getNumberOffset: function (delta, modifier) {\n    var increment = 1;\n    if (modifier == DraggableNumber.MODIFIER_SMALL) {\n      increment *= 0.1;\n    }\n    else if (modifier == DraggableNumber.MODIFIER_LARGE) {\n      increment *= 10;\n    }\n    // Negative increment if delta is negative.\n    if (delta < 0) {\n      increment *= -1;\n    }\n    return increment;\n  },\n\n  /**\n   * Return the largest difference between two positions, either x or y.\n   * @private\n   * @param {Object} newMousePosition - the new mouse position.\n   * @param {Object} lastMousePosition - the last mouse position.\n   * @returns {Number}\n   */\n  _getLargestDelta: function (newPosition, oldPosition) {\n    var result = 0;\n    var delta = {\n      x: newPosition.x - oldPosition.x,\n      y: newPosition.y - oldPosition.y,\n    };\n\n    if (Math.abs(delta.x) > Math.abs(delta.y)) {\n      return delta.x;\n    }\n    else {\n      // Inverse the position.y since mouse move to up should increase the _value.\n      return delta.y * -1;\n    }\n  },\n\n  /**\n   * Constrain a value between min and max.\n   * @private\n   * @param {Number} value - The value to constrain.\n   * @returns {Number}\n   */\n  _constraintValue: function (value) {\n    value = Math.min(value, this._max);\n    value = Math.max(value, this._min);\n    return value;\n  }\n};\n\n    return DraggableNumber;\n}));\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./libs/draggable-number.js\n ** module id = 111\n ** module chunks = 0 2 3\n **/"],"sourceRoot":"","file":"ThreeNodes.UI.js"}